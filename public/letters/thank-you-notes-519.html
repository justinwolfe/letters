<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="thank you notes 5/19">
  <title>thank you notes 5/19 - Thank You Notes</title>
  <link rel="manifest" href="/letters/manifest.json">
  <meta name="theme-color" content="#007bff">
  <link rel="apple-touch-icon" href="/letters/icon-192.png">
  <style>
    /**
 * Shared Styles for Thank You Notes
 * Used by both the static site and PWA version
 */

/* Base Reset and Layout */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #f5f5f5;
  color: #333;
  line-height: 1.6;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem 1rem;
}

/* Loading and Error States */
.loading,
.error {
  text-align: center;
  padding: 3rem;
  font-size: 1.2rem;
}

.error {
  color: #dc3545;
}

/* Header */
.header {
  margin-bottom: 1.5rem;
  text-align: center;
}

.header h1 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
}

.subtitle {
  font-size: 1rem;
  color: #666;
}

/* Controls */
.controls {
  margin-bottom: 2rem;
}

.search-container {
  position: relative;
  margin-bottom: 1rem;
}

.search-input {
  width: 100%;
  padding: 0.75rem 2.5rem 0.75rem 1rem;
  font-size: 1rem;
  border: 2px solid #dee2e6;
  border-radius: 8px;
  outline: none;
  transition: border-color 0.2s;
  background: white;
}

.search-input:focus {
  border-color: #007bff;
}

.clear-search {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  font-size: 1.25rem;
  color: #6c757d;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  line-height: 1;
  transition: color 0.2s;
}

.clear-search:hover {
  color: #333;
}

.control-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.sort-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.sort-container label {
  font-size: 0.875rem;
  font-weight: 500;
  color: #666;
}

.sort-select {
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  border: 2px solid #dee2e6;
  border-radius: 6px;
  background: white;
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s;
}

.sort-select:focus {
  border-color: #007bff;
}

.result-count {
  font-size: 0.875rem;
  font-weight: 600;
  color: #495057;
  padding: 0.5rem 0.75rem;
  background: #e9ecef;
  border-radius: 6px;
  white-space: nowrap;
}

.btn-random {
  background: #28a745;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-random:hover {
  background: #218838;
  transform: translateY(-1px);
}

.btn-random:active {
  transform: translateY(0);
}

.searching,
.no-results {
  text-align: center;
  padding: 3rem 1rem;
  font-size: 1.1rem;
  color: #666;
}

/* Email/Letter List */
.list,
.letter-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.email-card,
.letter-card {
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  text-decoration: none;
  color: inherit;
  display: block;
}

.email-card:hover,
.letter-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.email-card-image {
  width: 100%;
  height: 200px;
  overflow: hidden;
  background: #e9ecef;
}

.email-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.email-card-content,
.letter-card {
  padding: 1.5rem;
}

.email-card h2,
.letter-card h2 {
  font-size: 1.5rem;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  font-weight: 600;
}

.email-description,
.letter-card p {
  color: #666;
  margin-bottom: 0.75rem;
  line-height: 1.5;
}

.email-search-snippet {
  color: #555;
  margin-bottom: 0.75rem;
  line-height: 1.5;
  font-style: italic;
}

.search-highlight {
  background: #fff3cd;
  color: #856404;
  font-weight: 700;
  padding: 0.1rem 0.2rem;
  border-radius: 3px;
  font-style: normal;
}

.email-date,
.letter-card time {
  display: block;
  font-size: 0.875rem;
  color: #888;
}

/* Email/Letter Reader */
.email-reader,
.letter-content {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  margin-bottom: 2rem;
}

.email-reader {
  touch-action: pan-y pinch-zoom;
}

.reader-nav,
.navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  background: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
  gap: 1rem;
  flex-wrap: wrap;
}

.reader-nav-bottom {
  border-top: 1px solid #dee2e6;
  border-bottom: none;
}

.nav-buttons,
.nav-links {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

/* Buttons */
.btn {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  text-decoration: none;
  display: inline-block;
}

.btn:hover {
  transform: translateY(-1px);
}

.btn:active {
  transform: translateY(0);
}

.btn-secondary {
  background: #6c757d;
  color: white;
}

.btn-secondary:hover {
  background: #5a6268;
}

.btn-nav {
  background: #007bff;
  color: white;
}

.btn-nav:hover {
  background: #0056b3;
}

.btn-back-arrow {
  background: none;
  border: none;
  color: #333;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  transition: color 0.2s, transform 0.1s;
  line-height: 1;
}

.btn-back-arrow:hover {
  color: #007bff;
  transform: translateX(-2px);
}

.btn-back-arrow:active {
  transform: translateX(0);
}

/* Email/Letter Content */
.email-content,
.letter-content {
  padding: 2rem 1.5rem;
}

.email-header,
.letter-header {
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 2px solid #e9ecef;
}

.email-header h1,
.letter-header h1 {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-header .email-date,
.letter-header time {
  font-size: 1rem;
  color: #666;
}

/* Email/Letter Body Styles */
.email-body,
.letter-body {
  font-size: 1.0625rem;
  line-height: 1.7;
  color: #333;
}

.email-body h1,
.email-body h2,
.email-body h3,
.email-body h4,
.email-body h5,
.email-body h6,
.letter-body h1,
.letter-body h2,
.letter-body h3,
.letter-body h4,
.letter-body h5,
.letter-body h6 {
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  font-weight: 600;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-body h1,
.letter-body h1 {
  font-size: 1.875rem;
}

.email-body h2,
.letter-body h2 {
  font-size: 1.5rem;
}

.email-body h3,
.letter-body h3 {
  font-size: 1.25rem;
}

.email-body p,
.letter-body p {
  margin-bottom: 1rem;
}

.email-body a,
.letter-body a {
  color: #007bff;
  text-decoration: none;
}

.email-body a:hover,
.letter-body a:hover {
  text-decoration: underline;
}

.email-body img,
.letter-body img {
  max-width: 100%;
  height: auto;
  border-radius: 4px;
  margin: 1.5rem 0;
}

.email-body ul,
.email-body ol,
.letter-body ul,
.letter-body ol {
  margin-bottom: 1rem;
  padding-left: 2rem;
}

.email-body li,
.letter-body li {
  margin-bottom: 0.5rem;
}

.email-body blockquote,
.letter-body blockquote {
  margin: 1.5rem 0;
  padding-left: 1rem;
  border-left: 4px solid #e9ecef;
  color: #666;
  font-style: italic;
}

.email-body code,
.letter-body code {
  background: #f8f9fa;
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
  font-family: 'Courier New', monospace;
  font-size: 0.9em;
}

.email-body pre,
.letter-body pre {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  margin: 1.5rem 0;
}

.email-body pre code,
.letter-body pre code {
  background: none;
  padding: 0;
}

.email-body hr,
.letter-body hr {
  border: none;
  border-top: 2px solid #e9ecef;
  margin: 2rem 0;
}

/* Email Tags */
.email-tags {
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 2px solid #e9ecef;
}

.tags-label {
  font-size: 0.875rem;
  font-weight: 600;
  color: #666;
  margin-bottom: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.tags-list {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.tag-badge {
  background: #e7f3ff;
  color: #0366d6;
  border: 1px solid #c8e1ff;
  padding: 0.375rem 0.75rem;
  border-radius: 16px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  text-decoration: none;
  display: inline-block;
}

.tag-badge:hover {
  background: #0366d6;
  color: white;
  border-color: #0366d6;
  transform: translateY(-1px);
}

.tag-badge:active {
  transform: translateY(0);
}

.tag-title {
  font-size: 1.75rem;
  color: #0366d6;
  margin: 0.5rem 0;
  font-weight: 600;
}

.back-link {
  background: none;
  border: none;
  color: #007bff;
  font-size: 1rem;
  cursor: pointer;
  padding: 0;
  text-decoration: none;
  font-weight: 500;
  transition: color 0.2s, transform 0.1s;
  display: inline-block;
}

.back-link:hover {
  color: #0056b3;
  text-decoration: underline;
  transform: translateX(-2px);
}

.back-link:active {
  transform: translateX(0);
}

/* PWA Banner */
.pwa-banner {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 1rem;
  border-radius: 8px;
  margin: 1rem 0 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.pwa-banner-text {
  flex: 1;
  min-width: 200px;
}

.pwa-banner-text h3 {
  margin-bottom: 0.25rem;
  font-size: 1.1rem;
}

.pwa-banner-text p {
  font-size: 0.9rem;
  opacity: 0.9;
}

.btn-primary {
  background: #007bff;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-primary:hover {
  background: #0056b3;
  transform: translateY(-1px);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-primary:disabled {
  background: #6c757d;
  cursor: not-allowed;
  transform: none;
}

.btn-danger {
  background: #dc3545;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-danger:hover {
  background: #c82333;
  transform: translateY(-1px);
}

.btn-danger:active {
  transform: translateY(0);
}

/* Offline & PWA UI */
.offline-banner {
  background: #ff9800;
  color: white;
  padding: 0.75rem 1rem;
  text-align: center;
  border-radius: 8px;
  margin-bottom: 1rem;
  font-weight: 500;
}

.download-progress {
  background: white;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.download-progress-bar {
  height: 8px;
  background: #e9ecef;
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.download-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #007bff, #0056b3);
  transition: width 0.3s ease;
}

.download-progress p {
  font-size: 0.875rem;
  color: #666;
  text-align: center;
  margin: 0;
}

.btn-offline {
  background: #6c757d;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-offline:hover {
  background: #5a6268;
  transform: translateY(-1px);
}

.btn-offline:active {
  transform: translateY(0);
}

.offline-panel {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.offline-panel h3 {
  margin-bottom: 1rem;
  color: #1a1a1a;
  font-size: 1.25rem;
}

.offline-stats {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 6px;
  margin-bottom: 1rem;
}

.offline-stats p {
  margin: 0.5rem 0;
  color: #495057;
  font-size: 0.9375rem;
}

.offline-actions {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.offline-note {
  font-size: 0.875rem;
  color: #666;
  line-height: 1.5;
  margin: 0;
  font-style: italic;
}

/* Responsive Design */
@media (max-width: 768px) {
  .container {
    padding: 1rem 0.5rem;
  }

  .header h1 {
    font-size: 2rem;
  }

  .control-row {
    flex-direction: column;
    align-items: stretch;
  }

  .sort-container {
    width: 100%;
    justify-content: space-between;
  }

  .sort-select {
    flex: 1;
  }

  .result-count {
    text-align: center;
  }

  .btn-random {
    width: 100%;
  }

  .email-card-content {
    padding: 1rem;
  }

  .email-card h2 {
    font-size: 1.25rem;
  }

  .email-content,
  .letter-content {
    padding: 1.5rem 1rem;
  }

  .email-header h1,
  .letter-header h1 {
    font-size: 1.5rem;
  }

  .reader-nav,
  .navigation {
    flex-direction: column;
    align-items: stretch;
  }

  .nav-buttons,
  .nav-links {
    flex-direction: column;
  }

  .btn {
    width: 100%;
    text-align: center;
  }

  .btn-nav {
    font-size: 0.8125rem;
    white-space: normal;
    word-wrap: break-word;
  }

  body {
    padding: 10px;
  }

  .pwa-banner {
    flex-direction: column;
    text-align: center;
  }
}

@media (max-width: 480px) {
  .email-card-image {
    height: 150px;
  }

  .email-body,
  .letter-body {
    font-size: 1rem;
  }
}

    
    /* Static site specific adjustments */
    body {
      padding: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    
    <div class="pwa-banner" style="display: none;">
      <div class="pwa-banner-text">
        <h3>📱 Read Offline</h3>
        <p>Install the app to read all letters offline</p>
      </div>
      <div>
        <button class="btn btn-primary" onclick="installPWA()">Install App</button>
      </div>
    </div>

    <article class="letter-content">
      <header class="letter-header">
        <h1>thank you notes 5/19</h1>
        <time datetime="2016-05-19T00:00:00Z">May 18, 2016</time>
      </header>

      <div class="letter-body">
        <p>i&#39;m thankful that d left her computer in our hotel room while she was at the conference. i&#39;m thankful for that, and thankful that she told me her password, because trying to take down these notes in other forms (in erasable pen in a spiral notebook on a stone bench at the campus of the university of minnesota, into an audio recording app on the couch i&#39;m typing this on now) was very frustrating and unpleasant. i&#39;m thankful instead to type these notes into an email draft. i&#39;m thankful that i usually write up my thank you notes every day (from shorthand reminders i write in my iphone&#39;s notes app, which i&#39;m thankful is synced to icloud), because then it isn&#39;t like today, where i haven&#39;t really written notes in two very full and eventful days and i feel that there&#39;s so much to note and i feel like i&#39;ll never be able to capture all that i want to capture and write all that i want to write. i&#39;m thankful to not let the perfect be the enemy of the good and to write what i can here in the time i have and then click the little &quot;send&quot; button on the email draft and go on enjoying my vacation.</p>
<p>i&#39;m thankful that though the loudspeaker announcements from the gate said our flight to minneapolis on tuesday was full, it wasn&#39;t actually full. i&#39;m thankful that i caught myself in the act of stressing out about having to find an overhead bin for our carryon luggage and whether the luggage would fit (even though i always find a bin and it always fits) and i told myself that this was stupid and it didn&#39;t matter and all i was really afraid of was drawing the attention of strangers to myself briefly as i failed to do something, which is something i actively try to do in these notes every day and which in this instance feels like the most positive non-human thing in my life. i&#39;m thankful that there was space in my bin and that with some shoving, my bag of course fit. i&#39;m thankful that though i was stuck with a window seat, which i normally hate, the flight wasn&#39;t actually full and there was an empty seat between me and the guy on the aisle, a tall white man with a buzz cut who looked like he was probably in the military. </p>
<p>i&#39;m thankful that as we taxied, i was texting with d, who was 5 aisles up, and she told me that she had her whole row to herself. i&#39;m thankful that i told her i would join her just before we had to go into airplane mode, even though as the plane ascended, i began to stress out about waking up my seatmate (who i saw out of the corner of my eye might be asleep) as well as the problem of moving forward in the plane but leaving my carry on luggage stowed in the back, but i told myself again that i was worrying about how a stranger and/or a group of strangers might perceive me for 5-10 seconds, which is so pointless. i&#39;m thankful that when the pleasant ding sound appeared to tell us we were at cruising altitude, i said excuse me to the guy in my row and got up and went to sit with d, who was happy to see me. i&#39;m thankful i did that because there was some turbulence as we descended a short while later and d was able to grip my hand for comfort. i&#39;m thankful that on measure, despite my two moments of useless anxiety, the flight was the most pleasant i&#39;ve been on in a long time. i&#39;m thankful for the many parcels of dirt i could see in the minnesota country as we descended, which reminded me of the time when i moved to indiana and the plane was descending and i looked out and saw just square green farms and nothing else everywhere and wondered if i had made a huge mistake.</p>
<p>i&#39;m thankful that the minneapolis airport is on a light rail line that goes straight to downtown, where our hotel is, so that we didn&#39;t have to get a cab or uber. i&#39;m thankful that of the light rail lines i&#39;ve been on (korea, chicago, new york, bay area), the cars on this one seemed to have the most comfortable seats and definitely had the biggest windows and were never so crowded that we couldn&#39;t sit down. i&#39;m thankful for the short and pleasant trip to the station downtown, where we bought weekly transit passes from some nice old men in the state gift shop (i&#39;m thankful to not have had to think about exact change for the bus). i&#39;m thankful that i made them happy by bantering with them about how we were from the &quot;<em>other bloomington</em>.&quot; i&#39;m thankful that they gave us free ride vouchers, which we didn&#39;t need because we had bought unlimited ride passes, so i&#39;m thankful we gave them to a homeless man who was sitting outside the station. i&#39;m thankful that we then walked a mile or so to the conference hotel, thankful to have zigzagged back and forth along the pedestrian mall because of construction. i&#39;m thankful for the moment when we got to the hotel, thankful, always, for the relief of being given a keycard and stepping into the private space of the hotel room after shuffling and being shuttled from station to station in loose loud crowds. </p>
<p>i&#39;m thankful that we took a break to recharge and then went out to a vietnamese place a few blocks away, since we hadn&#39;t yet had lunch and it was now midafternoon. i&#39;m thankful that the people in the vietnamese place were nice and that they quickly made up our order, which was a small bowl of pho (i&#39;m thankful that the bowl was actually small, since so often bowls of pho are like mixing bowl size, which is just too much broth to consume in one sitting) and something i hadn&#39;t had called com ga, which was deep fried dark meat chicken on a bed of ginger fried rice with pickled vegetables and a ginger-chile sauce. i&#39;m thankful that if not revelatory the food was great and thankful for the expression &quot;hit the spot&quot; which accurately renders what satisfaction feels like.i&#39;m thankful that i could sense that d was still stressed out, though, from the travel and maybe because of the conference, which would force her into lots of unfamiliar social situations. i&#39;m thankful i insisted we go into a liquor store in the same plaza as the vietnamese place to get the liquor of her choice, which was in this case tequila (i&#39;m thankful that i told her a fib that i would drink the tequila too, because i knew she wouldn&#39;t agree to letting me buy it just for her). </p>
<p>i&#39;m thankful that we went into the convenience store in the plaza and bought cans of flavored san pellegrino to mix with the tequila. i&#39;m thankful that while i was at the register paying for the mixers, this guy started hitting on d, who was standing by the door to the store. i&#39;m thankful that i was distracted by the exchange and just heard him say something about buying her a snickers bar and looked over to see d frozen and looking deeply uncomfortable. i&#39;m thankful that i was in a good mood and when i&#39;m in a good mood, i&#39;m less awkward in social situations than i used to be (i&#39;m thankful for my relationship with d, which provides me with a reserve of inner strength). i&#39;m thankful that the guy turned as he saw d make i contact with me and i smiled and, mock-offended, said, &quot;<em>hey man, you trying to pick up my girl while i&#39;m in line? what the hell!</em>&quot; i&#39;m thankful that he and his friend laughed and the friend said to him &quot;<em>oh man, that&#39;s fucked up</em>&quot; and he said, &quot;<em>i didn&#39;t know she was with you. she was just standing over here looking lost.</em>&quot; i&#39;m thankful that i finished the transaction and as we walked out of the automatic doors, my hand on her back, he said, &quot;<em>i just got one question for you. you a white dude—how&#39;d you get an asian girl</em>?&quot; i&#39;m thankful that i smiled in response to this unnecessary question and said something like &quot;<em>i&#39;m the shit</em>&quot; even though the thing i thought of later that i wanted to say was &quot;<em>not by hitting on her in a convenience store when she was clearly uncomfortable&quot;</em></p>
<p>i&#39;m thankful that we retired to our hotel room for mood-improving relaxation and cocktails, and, sunny side up, walked to the minneapolis institute of art. i&#39;m thankful that the museum was a lovely patchwork catchall regional art museum. i&#39;m thankful for the architecture, which reminded me of the main branch of the new york public library (i&#39;m thankful for big stone staircases). i&#39;m thankful that we had about an hour and a half there, which wasn&#39;t enough time to even see everything in the modern and contemporary section, but was enough time to see some very good things (i&#39;m thankful for one i can remember, which was a lovely huge painting by larry rivers that featured renderings of frank o&#39;hara and, which, in a sly curatorial joke unacknowledged in the wall text, was set beside a small <em>horse and rider</em> by marino marini, which had to be a reference to &quot;<a href="https://mappingthemarvellous.wordpress.com/2012/03/23/having-a-coke-with-you/">having a coke with you</a>&quot;). i&#39;m thankful that we paused in a small park by the museum (i&#39;m thankful there are so many parks here) to sit on a bench and enjoy the sunset. i&#39;m thankful that we walked back to the hotel. i&#39;m thankful that we both still felt pretty full from the vietnamese food, so i advanced the idea that we could just have ice cream or donuts or something in the hotel room for &quot;dinner&quot; rather than forcing ourselves to go out again when we were both tired. </p>
<p>i&#39;m thankful d liked the idea of staying in (i&#39;m thankful that d almost always likes the idea of staying in, because i do too), but wanted something besides ice cream for dinner. i&#39;m thankful this is reasonable and that it was also reasonable for her to not know exactly what she wanted, even though as the minutes of yelping and mapping went on, it frustrated me that she couldn&#39;t decide what she wanted, which forced me to hang in this limbo state of not being able to do anything. i&#39;m thankful that at the airport, i had told myself that because of meditation, i didn&#39;t have to be stressed about wasting time in these liminal spaces anymore, that any &quot;dead time&quot; is a time to be aware of the wonder of being alive, and i&#39;m thankful to remind myself of that by writing it now since i had clearly forgotten it over the course of the afternoon. i&#39;m thankful that d decided that she wanted chicken nuggets and fries and that i found a wendy&#39;s a mile and a half away and walked there quickly while listening to a podcast. i&#39;m thankful to be able to wear headphones in an urban environment, which helps to dial down the intensity of the everything around you a little bit, which i needed in that moment. i&#39;m thankful to have gotten the wendy&#39;s and walked quickly back and brought it to d still relatively warm, which made her happy and me happy. i&#39;m thankful that i then went back down in the elevator from the hotel and on an ill-advised walk to a &quot;nearby&quot; bodega, where i bought a pint of local &quot;salty caramel&quot; ice cream and some gummy lifesavers and a kitkat in case d wanted some dessert. i&#39;m thankful that i made it back to the hotel through an even more flawed and circuitous route than i had taken before and that on the elevator i knew i was really drained and tired when i not only couldn&#39;t make small talk with the men in the elevator who were joking about coming on late and slowing us down, but couldn&#39;t even look up at them and just stared at my phone not reading twitter. </p>
<p>i&#39;m thankful for the deep exhale i took when i got back to the hotel room with my &quot;dinner.&quot; i&#39;m thankful to have expressed my feelings of frustration and exhaustion to d and to have apologized to her about being brusque or short, which made me feel better. i&#39;m thankful that the ice cream, in addition to being half-melted, was really not very good and a huge waste of calories, but i&#39;m thankful i didn&#39;t let myself think about that as i quickly consumed the entire pint. i&#39;m thankful that d urged me to take a shower because hers had made her feel better and that i took one and did feel much better. i&#39;m thankful that the water pressure and heat were very good and that d brought a loofa from home so we didn&#39;t have to use a washcloth, which i don&#39;t like to use in the shower. i&#39;m thankful that i poured several droppers of tincture on the rocks and added some san pellegrino and convinced myself i was having a cocktail. i&#39;m thankful that while channel surfing, i settled on a marathon of <em>little women ny</em>, which i had never seen before and which is a very entertaining show when you are tired and in a hotel room and have just eaten a pint of not very good ice cream. i&#39;m thankful for the badgood writing of the producers doing the talking heads, such as when one little woman is talking about how another little woman thinks she is better than her because she went to twelve additional weeks of school to become a paralegal and the little woman, incensed, says, &quot;<em>i just want to tell her: get off your step stool</em>!&quot; i&#39;m thankful for how it delighted me that someone had taken the time to write that, especially because the expression &quot;<em>get off your high horse</em>&quot; seems just as little women appropriate. i&#39;m thankful that as i watched the dramas in the lives of the little women, i breathed and relaxed and sunk into the king size bed (i&#39;m thankful we got a room with one king size bed rather than two smaller beds). i&#39;m thankful that d agreed to let me turn the air conditioner very low. i&#39;m thankful that eventually i turned off the television and sunk into a deep and satisfying sleep, having completed the first day of my summer vacation.</p>

      </div>

      
    <footer class="email-tags">
      <div class="tags-label">Tags:</div>
      <div class="tags-list">
        <a href="/letters/?tag=conference" class="tag-badge">#conference</a>
        <a href="/letters/?tag=food-culture" class="tag-badge">#food culture</a>
        <a href="/letters/?tag=gratitude" class="tag-badge">#gratitude</a>
        <a href="/letters/?tag=personal-reflection" class="tag-badge">#personal reflection</a>
        <a href="/letters/?tag=social-interactions" class="tag-badge">#social interactions</a>
        <a href="/letters/?tag=travel-experience" class="tag-badge">#travel experience</a>
        <a href="/letters/?tag=urban-transportation" class="tag-badge">#urban transportation</a>
      </div>
    </footer>
  
    </article>

    <nav class="navigation">
      <a href="/letters/" class="btn btn-secondary">home</a>
      <div class="nav-links">
        <a href="/letters/letters/tyn-esme.html" class="btn btn-secondary">← tyn (esmé)</a>
        <a href="/letters/letters/tyn-moe.html" class="btn btn-secondary">tyn (moe) →</a>
      </div>
    </nav>
  
  </div>

  <script>
    // PWA installation prompt
    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'flex';
      }
    });

    async function installPWA() {
      if (!deferredPrompt) {
        // If not installable, redirect to PWA
        window.location.href = '/letters/app/';
        return;
      }

      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      
      if (outcome === 'accepted') {
        console.log('PWA installed');
      }
      
      deferredPrompt = null;
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'none';
      }
    }

    function openPWA() {
      // Mark PWA preference and redirect
      localStorage.setItem('pwa-preferred', 'true');

      // Extract the letter slug from current URL if on a letter page
      const path = window.location.pathname;
      const match = path.match(//letters/([^/]+).html$/);

      if (match) {
        const slug = match[1];
        window.location.href = '/letters/app/?letter=' + encodeURIComponent(slug);
      } else {
        window.location.href = '/letters/app/';
      }
    }

    // PWA Auto-redirect: Check if user prefers PWA or has ?pwa=1 parameter
    (function() {
      const params = new URLSearchParams(window.location.search);
      const preferPWA = params.get('pwa') === '1';
      const hasPWAPreference = localStorage.getItem('pwa-preferred') === 'true';

      // Don't redirect if already in standalone mode (PWA is installed and running)
      const isStandalone = window.matchMedia('(display-mode: standalone)').matches;

      if ((preferPWA || hasPWAPreference) && !isStandalone) {
        // Redirect to PWA with letter context
        const path = window.location.pathname;
        const match = path.match(//letters/([^/]+).html$/);

        if (match) {
          const slug = match[1];
          window.location.href = '/letters/app/?letter=' + encodeURIComponent(slug);
        } else {
          window.location.href = '/letters/app/';
        }
        return; // Stop further execution
      }
    })();

    // Progressive Enhancement: Check if user has PWA installed
    // If they do, show banner suggesting to use the app
    if (window.matchMedia('(display-mode: standalone)').matches) {
      // User is in standalone mode (PWA is installed and running)
      // Keep them on static page - they're already in PWA mode
      console.log('Running in PWA mode');
    } else {
      // Check if user has previously used the PWA (has cached data)
      if ('caches' in window) {
        caches.keys().then(cacheNames => {
          const hasPWACache = cacheNames.some(name =>
            name.includes('static-') || name.includes('data-')
          );

          // Only show PWA banner if they have cached content
          if (hasPWACache) {
            const banner = document.querySelector('.pwa-banner');
            if (banner && banner.style.display === 'none') {
              banner.style.display = 'flex';
            }
          }
        });
      }
    }

    // Register service worker for all pages
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker
          .register('/letters/sw.js', { scope: '/letters/' })
          .then((registration) => {
            console.log('SW registered:', registration);
          })
          .catch((error) => {
            console.log('SW registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>