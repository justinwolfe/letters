<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="7/3/17">
  <title>7/3/17 - Thank You Notes</title>
  <link rel="manifest" href="/letters/manifest.json">
  <meta name="theme-color" content="#007bff">
  <link rel="apple-touch-icon" href="/letters/icon-192.png">
  <style>
    /**
 * Shared Styles for Thank You Notes
 * Used by both the static site and PWA version
 */

/* Base Reset and Layout */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #f5f5f5;
  color: #333;
  line-height: 1.6;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem 1rem;
}

/* Loading and Error States */
.loading,
.error {
  text-align: center;
  padding: 3rem;
  font-size: 1.2rem;
}

.error {
  color: #dc3545;
}

/* Header */
.header {
  margin-bottom: 1.5rem;
  text-align: center;
}

.header h1 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
}

.subtitle {
  font-size: 1rem;
  color: #666;
}

/* Controls */
.controls {
  margin-bottom: 2rem;
}

.search-container {
  position: relative;
  margin-bottom: 1rem;
}

.search-input {
  width: 100%;
  padding: 0.75rem 2.5rem 0.75rem 1rem;
  font-size: 1rem;
  border: 2px solid #dee2e6;
  border-radius: 8px;
  outline: none;
  transition: border-color 0.2s;
  background: white;
}

.search-input:focus {
  border-color: #007bff;
}

.clear-search {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  font-size: 1.25rem;
  color: #6c757d;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  line-height: 1;
  transition: color 0.2s;
}

.clear-search:hover {
  color: #333;
}

.control-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.sort-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.sort-container label {
  font-size: 0.875rem;
  font-weight: 500;
  color: #666;
}

.sort-select {
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  border: 2px solid #dee2e6;
  border-radius: 6px;
  background: white;
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s;
}

.sort-select:focus {
  border-color: #007bff;
}

.result-count {
  font-size: 0.875rem;
  font-weight: 600;
  color: #495057;
  padding: 0.5rem 0.75rem;
  background: #e9ecef;
  border-radius: 6px;
  white-space: nowrap;
}

.btn-random {
  background: #28a745;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-random:hover {
  background: #218838;
  transform: translateY(-1px);
}

.btn-random:active {
  transform: translateY(0);
}

.searching,
.no-results {
  text-align: center;
  padding: 3rem 1rem;
  font-size: 1.1rem;
  color: #666;
}

/* Email/Letter List */
.list,
.letter-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.email-card,
.letter-card {
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  text-decoration: none;
  color: inherit;
  display: block;
}

.email-card:hover,
.letter-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.email-card-image {
  width: 100%;
  height: 200px;
  overflow: hidden;
  background: #e9ecef;
}

.email-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.email-card-content,
.letter-card {
  padding: 1.5rem;
}

.email-card h2,
.letter-card h2 {
  font-size: 1.5rem;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  font-weight: 600;
}

.email-description,
.letter-card p {
  color: #666;
  margin-bottom: 0.75rem;
  line-height: 1.5;
}

.email-search-snippet {
  color: #555;
  margin-bottom: 0.75rem;
  line-height: 1.5;
  font-style: italic;
}

.search-highlight {
  background: #fff3cd;
  color: #856404;
  font-weight: 700;
  padding: 0.1rem 0.2rem;
  border-radius: 3px;
  font-style: normal;
}

.email-date,
.letter-card time {
  display: block;
  font-size: 0.875rem;
  color: #888;
}

/* Email/Letter Reader */
.email-reader,
.letter-content {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  margin-bottom: 2rem;
}

.email-reader {
  touch-action: pan-y pinch-zoom;
}

.reader-nav,
.navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  background: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
  gap: 1rem;
  flex-wrap: wrap;
}

.reader-nav-bottom {
  border-top: 1px solid #dee2e6;
  border-bottom: none;
}

.nav-buttons,
.nav-links {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

/* Buttons */
.btn {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  text-decoration: none;
  display: inline-block;
}

.btn:hover {
  transform: translateY(-1px);
}

.btn:active {
  transform: translateY(0);
}

.btn-secondary {
  background: #6c757d;
  color: white;
}

.btn-secondary:hover {
  background: #5a6268;
}

.btn-nav {
  background: #007bff;
  color: white;
}

.btn-nav:hover {
  background: #0056b3;
}

.btn-back-arrow {
  background: none;
  border: none;
  color: #333;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  transition: color 0.2s, transform 0.1s;
  line-height: 1;
}

.btn-back-arrow:hover {
  color: #007bff;
  transform: translateX(-2px);
}

.btn-back-arrow:active {
  transform: translateX(0);
}

/* Email/Letter Content */
.email-content,
.letter-content {
  padding: 2rem 1.5rem;
}

.email-header,
.letter-header {
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 2px solid #e9ecef;
}

.email-header h1,
.letter-header h1 {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-header .email-date,
.letter-header time {
  font-size: 1rem;
  color: #666;
}

/* Email/Letter Body Styles */
.email-body,
.letter-body {
  font-size: 1.0625rem;
  line-height: 1.7;
  color: #333;
}

.email-body h1,
.email-body h2,
.email-body h3,
.email-body h4,
.email-body h5,
.email-body h6,
.letter-body h1,
.letter-body h2,
.letter-body h3,
.letter-body h4,
.letter-body h5,
.letter-body h6 {
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  font-weight: 600;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-body h1,
.letter-body h1 {
  font-size: 1.875rem;
}

.email-body h2,
.letter-body h2 {
  font-size: 1.5rem;
}

.email-body h3,
.letter-body h3 {
  font-size: 1.25rem;
}

.email-body p,
.letter-body p {
  margin-bottom: 1rem;
}

.email-body a,
.letter-body a {
  color: #007bff;
  text-decoration: none;
}

.email-body a:hover,
.letter-body a:hover {
  text-decoration: underline;
}

.email-body img,
.letter-body img {
  max-width: 100%;
  height: auto;
  border-radius: 4px;
  margin: 1.5rem 0;
}

.email-body ul,
.email-body ol,
.letter-body ul,
.letter-body ol {
  margin-bottom: 1rem;
  padding-left: 2rem;
}

.email-body li,
.letter-body li {
  margin-bottom: 0.5rem;
}

.email-body blockquote,
.letter-body blockquote {
  margin: 1.5rem 0;
  padding-left: 1rem;
  border-left: 4px solid #e9ecef;
  color: #666;
  font-style: italic;
}

.email-body code,
.letter-body code {
  background: #f8f9fa;
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
  font-family: 'Courier New', monospace;
  font-size: 0.9em;
}

.email-body pre,
.letter-body pre {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  margin: 1.5rem 0;
}

.email-body pre code,
.letter-body pre code {
  background: none;
  padding: 0;
}

.email-body hr,
.letter-body hr {
  border: none;
  border-top: 2px solid #e9ecef;
  margin: 2rem 0;
}

/* Email Tags */
.email-tags {
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 2px solid #e9ecef;
}

.tags-label {
  font-size: 0.875rem;
  font-weight: 600;
  color: #666;
  margin-bottom: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.tags-list {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.tag-badge {
  background: #e7f3ff;
  color: #0366d6;
  border: 1px solid #c8e1ff;
  padding: 0.375rem 0.75rem;
  border-radius: 16px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  text-decoration: none;
  display: inline-block;
}

.tag-badge:hover {
  background: #0366d6;
  color: white;
  border-color: #0366d6;
  transform: translateY(-1px);
}

.tag-badge:active {
  transform: translateY(0);
}

.tag-title {
  font-size: 1.75rem;
  color: #0366d6;
  margin: 0.5rem 0;
  font-weight: 600;
}

.back-link {
  background: none;
  border: none;
  color: #007bff;
  font-size: 1rem;
  cursor: pointer;
  padding: 0;
  text-decoration: none;
  font-weight: 500;
  transition: color 0.2s, transform 0.1s;
  display: inline-block;
}

.back-link:hover {
  color: #0056b3;
  text-decoration: underline;
  transform: translateX(-2px);
}

.back-link:active {
  transform: translateX(0);
}

/* PWA Banner */
.pwa-banner {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 1rem;
  border-radius: 8px;
  margin: 1rem 0 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.pwa-banner-text {
  flex: 1;
  min-width: 200px;
}

.pwa-banner-text h3 {
  margin-bottom: 0.25rem;
  font-size: 1.1rem;
}

.pwa-banner-text p {
  font-size: 0.9rem;
  opacity: 0.9;
}

.btn-primary {
  background: #007bff;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-primary:hover {
  background: #0056b3;
  transform: translateY(-1px);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-primary:disabled {
  background: #6c757d;
  cursor: not-allowed;
  transform: none;
}

.btn-danger {
  background: #dc3545;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-danger:hover {
  background: #c82333;
  transform: translateY(-1px);
}

.btn-danger:active {
  transform: translateY(0);
}

/* Offline & PWA UI */
.offline-banner {
  background: #ff9800;
  color: white;
  padding: 0.75rem 1rem;
  text-align: center;
  border-radius: 8px;
  margin-bottom: 1rem;
  font-weight: 500;
}

.download-progress {
  background: white;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.download-progress-bar {
  height: 8px;
  background: #e9ecef;
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.download-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #007bff, #0056b3);
  transition: width 0.3s ease;
}

.download-progress p {
  font-size: 0.875rem;
  color: #666;
  text-align: center;
  margin: 0;
}

.btn-offline {
  background: #6c757d;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-offline:hover {
  background: #5a6268;
  transform: translateY(-1px);
}

.btn-offline:active {
  transform: translateY(0);
}

.offline-panel {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.offline-panel h3 {
  margin-bottom: 1rem;
  color: #1a1a1a;
  font-size: 1.25rem;
}

.offline-stats {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 6px;
  margin-bottom: 1rem;
}

.offline-stats p {
  margin: 0.5rem 0;
  color: #495057;
  font-size: 0.9375rem;
}

.offline-actions {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.offline-note {
  font-size: 0.875rem;
  color: #666;
  line-height: 1.5;
  margin: 0;
  font-style: italic;
}

/* Responsive Design */
@media (max-width: 768px) {
  .container {
    padding: 1rem 0.5rem;
  }

  .header h1 {
    font-size: 2rem;
  }

  .control-row {
    flex-direction: column;
    align-items: stretch;
  }

  .sort-container {
    width: 100%;
    justify-content: space-between;
  }

  .sort-select {
    flex: 1;
  }

  .result-count {
    text-align: center;
  }

  .btn-random {
    width: 100%;
  }

  .email-card-content {
    padding: 1rem;
  }

  .email-card h2 {
    font-size: 1.25rem;
  }

  .email-content,
  .letter-content {
    padding: 1.5rem 1rem;
  }

  .email-header h1,
  .letter-header h1 {
    font-size: 1.5rem;
  }

  .reader-nav,
  .navigation {
    flex-direction: column;
    align-items: stretch;
  }

  .nav-buttons,
  .nav-links {
    flex-direction: column;
  }

  .btn {
    width: 100%;
    text-align: center;
  }

  .btn-nav {
    font-size: 0.8125rem;
    white-space: normal;
    word-wrap: break-word;
  }

  body {
    padding: 10px;
  }

  .pwa-banner {
    flex-direction: column;
    text-align: center;
  }
}

@media (max-width: 480px) {
  .email-card-image {
    height: 150px;
  }

  .email-body,
  .letter-body {
    font-size: 1rem;
  }
}

    
    /* Static site specific adjustments */
    body {
      padding: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    
    <div class="pwa-banner" style="display: none;">
      <div class="pwa-banner-text">
        <h3>📱 Read Offline</h3>
        <p>Install the app to read all letters offline</p>
      </div>
      <div>
        <button class="btn btn-primary" onclick="installPWA()">Install App</button>
      </div>
    </div>

    <article class="letter-content">
      <header class="letter-header">
        <h1>7/3/17</h1>
        <time datetime="2017-07-03T00:00:00Z">July 2, 2017</time>
      </header>

      <div class="letter-body">
        <p>i&#39;m thankful for the opportunity to revisit the fragmentary notes i kept in my phone over the past week as a way of processing my experiences and adding them to my textual scrapbook.</p>
<p>i&#39;m thankful that on our first flight to california, the turbulence was pretty bad. i&#39;m thankful to have tried to comfort d, who is frightened by that in a way that i&#39;m not. i&#39;m thankful that by coincidence the edible i had eaten was kicking in and i mostly just listened to music (<a href="https://open.spotify.com/album/1iQNqvcWTFwfUYnsGgMYBw">foxygen</a>, who i had never really appreciated but listening to it at that moment reminded me pleasantly of the almost plane crash in <em>almost famous</em>) and enjoyed the ride. i&#39;m thankful that at one point, i imagined the plane as an extension of my body, that its shaking was my shaking. </p>
<p>i&#39;m thankful for how when we landed we talked about how the reason i&#39;m not afraid on planes is that i don&#39;t have any control over whether the plane will crash or not, there&#39;s nothing i can do, it will either happen or not happen and i find that freeing and not scary. i&#39;m thankful to wish that i could transpose this philosophy onto the other areas of my life and maybe will try harder to do so.</p>
<p>i&#39;m thankful in general for all the ways that airports and airplanes remind me of death. i&#39;m thankful, even though our state security apparatus is racist and wasteful and stupid, for the way in the security line we take off our shoes and belts and have to remove all our possessions in order to pass through the border into the afterlife of the terminal. i&#39;m thankful for the way that moving sidewalks carry us away like mechanical charons.</p>
<p>i&#39;m thankful for the intimacy forced on you by air travel, even though that&#39;s often unpleasant. i&#39;m thankful that i had brought a peppermint essential oil inhaler, because on our second flight, a man was eating a sandwich that smelled horribly of garlic and onions. i&#39;m thankful that d and i passed the inhaler back and forth, like stranded divers sharing a single tank of oxygen, until he finished eating and the smell passed. i&#39;m thankful that while i was repulsed by the smell i found out when we landed that d was undecided about whether she hated it or loved it.</p>
<p>i&#39;m thankful for the really tall thin palm trees in california, which look like stretched taffy. i&#39;m thankful, while stuck in traffic, as we almost always were, to have thought about how the freedom in grand theft auto V to cut around in traffic and jump barricades and drive up hills must feel particularly freeing for angelenos, where even a journey of a few miles can require getting on a jammed freeway and sitting still. i&#39;m thankful to have learned about the partial legality of motorcycles weaving through the gaps in stopped/slow traffic, which was a fascinating thing to see.</p>
<p>i&#39;m thankful for redondo beach, which was very beautiful to the south, with a hill covered with houses like a mini-me capri, and which was very ugly to the north, like a miniaturized myrtle beach. i&#39;m thankful there for a woman i saw who seemed to be carefully framing a shot of a &quot;do not enter&quot; sign but who i realized when i got closer was shooting past the sign to the ocean. i&#39;m thankful for d&#39;s sister e, who, to d&#39;s mom&#39;s desire for us to go to another pier, said &quot;every pier is the same&quot; which is a pretty true statement.</p>
<p>i&#39;m thankful for california girls, which i think really do exist as a specific archetype in the real world and are different than the girls in other places, though maybe that&#39;s just fetishization. i&#39;m thankful for how effortlessly tough and cool they seem—i&#39;m thankful when we were in redondo beach to have seen two girls in sunglasses, sports bras, and jean shorts longboarding down a hill lazily, one of them eating a lollipop. i&#39;m thankful for e&#39;s glitter pink iphone case, which you could shake to make it shimmer.</p>
<p>i&#39;m thankful that when we went down to the water, d&#39;s mom and i put our feet in and were surprised by how cold it was. i&#39;m thankful for her laughter and mine when she got splashed by an unexpectedly large wave. i&#39;m thankful for the smell of the ocean, which i hadn&#39;t smelled in a long time and the feel of the air there and which is wonderful.</p>
<p>i&#39;m thankful for the hotel restaurant where we ate lunch. i&#39;m thankful that d got a lobster roll, which e said is a dish that she expects to be better and always disappoints her, and e got fish and chips, which d said is a dish that she expects to be better and always disappoints her. i&#39;m thankful that d said &quot;<em>i just wanted to taste lobster</em>.&quot; </p>
<p>i&#39;m thankful that d compared the heat in her family&#39;s garage to hell to her dad, who is a pastor, and i&#39;m thankful he laughed. i&#39;m thankful for the great dad joke he told when we were talking about al pastor tacos and he said &quot;so tacos...of me?&quot; i&#39;m thankful for his intricate ad-blocker strategy for watching streams of korean shows.</p>
<p>i&#39;m thankful for d&#39;s mom&#39;s compliment that my eyes look like i had double eyelid cosmetic surgery. i&#39;m thankful that after we had amazing seolleongtang at a restaurant in LA, d complained about feeling stuffed and her mom said that it was because rice makes you fat and she ate her rice and that&#39;s why her mom and I didn&#39;t eat our rice, which while shitty and body-shamey in the way that her mom can often be, was also interesting because her mom and I don&#39;t have that close of a connection in many ways, so i&#39;m thankful for her noticing a point at which we overlapped, even if it was kind of a mean one. </p>
<p>i&#39;m thankful we went to the san diego zoo, even though i didn&#39;t really want to go and don&#39;t care about animals. i&#39;m thankful it was a good family activity. i&#39;m thankful for the comedy of the shuttle tour, because we kept coming upon habitats and the animals were gone or missing or hiding and this was true for probably a good 75% of the tour, which made me imagine a tour that was just the descriptions of what the animals would look like without any animals, which honestly would have been about as good imo. </p>
<p>i&#39;m thankful that one of the gimmick exhibits at the zoo was a dog and a cheetah that were raised together to be &quot;best friends&quot;. i&#39;m thankful that apparently the dog helps the cheetah who is high strung to relax and play—i&#39;m thankful d and i agreed that i would be the dog and she would be the cheetah in our relationship. i&#39;m thankful that in response to d&#39;s mom&#39;s comment about why the giraffes didn&#39;t have more food to eat in their habitat, e said bluntly &quot;<em>they don&#39;t want fat giraffes</em>.&quot; i&#39;m thankful for the skyway tram we took across the grounds of the zoo, which was my favorite part of the trip because it was almost a ride and did not involve having to squint at animals and pretend i found them interesting.</p>
<p>i&#39;m thankful for d and her dad playing &quot;heart and soul&quot; and &quot;chopsticks&quot; together on the family&#39;s piano. i&#39;m thankful that though the piano was a bit out of tune, that gave it character. i&#39;m thankful that one evening while d&#39;s mom made dinner, i played some improvisations and her mom was complimentary. i&#39;m thankful that at church on sunday, i could hear her mom&#39;s voice cut through the congregation, with great pitch and strong vibrato. i&#39;m thankful it was interesting hearing her sing the hymns, which were all in english, since that&#39;s the most sustained english i&#39;ve heard her speak/sing. i&#39;m thankful to have through d praised her voice and for her anecdote about how she&#39;s been a better singer since once she was at a church conference and was touched by god and the musical notes in the hymnal started moving before her eyes.</p>
<p>i&#39;m thankful that though at one point i wrote the note &quot;thankful don&#39;t like mother in law,&quot; i know that&#39;s not the case and i was just, in that moment, frustrated and exhausted by the stringency of her itineraries (which i know she was being stringent about on our behalf, even though she couldn&#39;t understand that wasn&#39;t what we wanted). i&#39;m thankful that i know she loves d and e and i, even if sometimes the ways she acts make it seem as though she doesn&#39;t. i&#39;m thankful that we were sitting at a paris baguette as d and her mom ate macarons and d put down a half eaten one and i told d&#39;s dad about how when we have a box of chocolates, if she finds she doesn&#39;t like one after her first bite, she will put it back in the box, and i&#39;m thankful for his laugh of recognition before he said &quot;<em>well she gets that from her mother</em>.&quot; i&#39;m thankful for an anecdote d told me about when her family went to vegas and her mom did one penny slot, didn&#39;t get anything from it, and said that it was a total waste and refused to do any more. i&#39;m thankful for how much she loves her dogs, even if they&#39;re not very friendly.</p>
<p>i&#39;m thankful for lake arrowhead, which our boat tour revealed is a gross symbol of capitalism but did offer a nice respite from the heat. i&#39;m thankful i had the occasion on our trip up to stand at a mountain overlook and look out and over farther into the distance than i normally get a chance to, which was nice. i&#39;m thankful for the interesting landscape of california, which is large tracts of flatness interspersed with mountains, which is different than the general hilliness but mostly peaklessness here. i&#39;m thankful that while the constant driving was hard for d and i (who don&#39;t have commutes and mostly get around by walking and biking), there were some nice aspects of that travel. i&#39;m thankful that d and e and i gave each other tons of internet quizzes on our phones, which i highly recommend as a time-passing activity for car trips. i&#39;m thankful that e always convinces me to give an artist i hadn&#39;t appreciated more of a chance—i&#39;m thankful that last trip it was selena gomez and that this trip it was, to my surprise, calvin harris.</p>
<p>i&#39;m thankful that d always brings a small plastic container of q tips with her on vacation, such that when i really needed a q tip i got one. i&#39;m thankful that d and e and i ate delicious tacos and then saw <em>wonder woman</em> at the mall. i&#39;m thankful it was really enjoyable and that gal gadot was great. i&#39;m thankful that night, we watched <em>okja</em> with d&#39;s dad, who likes to get the chance to watch korean movies with us. i&#39;m thankful, as someone who doesn&#39;t really care for movies where animals are primary characters, to have really enjoyed okja and thought that its critique of capitalism was more interesting/relevant than <em>snowpiercer</em>&#39;s. i&#39;m thankful that watching the movie gave me the occasion to text my dear friend jk, who i hadn&#39;t spoken to in a while, and i&#39;m thankful that we caught up a bit and she gave me her bong joon ho recs, which are _memories of murde_r and <em>mother</em>.</p>
<p>i&#39;m thankful that i ate lots of delicious food on the trip and that my favorite treats were bingsu with frozen milk instead of water (which adds an amazing richness without the heaviness of ice cream) and nitroglycerine ice cream (which is so cold you almost chew it, which is a very interesting sensation for ice cream). i&#39;m thankful that i learned to tolerate red bean paste, even though i don&#39;t prefer it. i&#39;m thankful for d&#39;s mom&#39;s excellent cooking, even though i still struggle sometimes with the full savory korean breakfast (i&#39;m thankful to be back to my raisin bran now). i&#39;m thankful for the best korean barbecue i&#39;ve ever had in my life.</p>
<p>i&#39;m thankful that though our trip home yesterday was long (and harder because of the hours lost to the time change), i was still happy because we were going home. i&#39;m thankful that over vacation i reread <em>the dark forest</em> (pure pleasure) and also read <em>blitzed,</em> which was equal parts fascinating and horrifying. i&#39;m thankful that on my last flight i listened to the new jay-z album, which is so wonderful as everyone has been saying. i&#39;m thankful that on the drive home, d and i sang along to <em>melodrama</em> as we blazed through the night. i&#39;m thankful for &quot;<a href="https://open.spotify.com/track/3fttRKnPFJ3WPz4pPfqezP">get down</a>&quot; by curren$y which i think is a perfect summer song. i&#39;m thankful for the chorus about being alive but not being aware.</p>
<p>i&#39;m thankful to know that there are a lot of moments that i didn&#39;t capture here, but i&#39;m thankful to have put down something. i&#39;m thankful to hope that i won&#39;t lose the memories i didn&#39;t write here, but i&#39;m thankful to know that it&#39;s okay if i do, because i&#39;m always making new memories, every moment of every day. i&#39;m thankful to close my computer and unpack my baggage.</p>

      </div>

      
    <footer class="email-tags">
      <div class="tags-label">Tags:</div>
      <div class="tags-list">
        <a href="/letters/?tag=california-culture" class="tag-badge">#California culture</a>
        <a href="/letters/?tag=air-travel" class="tag-badge">#air travel</a>
        <a href="/letters/?tag=emotional-processing" class="tag-badge">#emotional processing</a>
        <a href="/letters/?tag=family-dynamics" class="tag-badge">#family dynamics</a>
        <a href="/letters/?tag=food-experiences" class="tag-badge">#food experiences</a>
        <a href="/letters/?tag=nature-observation" class="tag-badge">#nature observation</a>
        <a href="/letters/?tag=personal-reflection" class="tag-badge">#personal reflection</a>
        <a href="/letters/?tag=travel-philosophy" class="tag-badge">#travel philosophy</a>
      </div>
    </footer>
  
    </article>

    <nav class="navigation">
      <a href="/letters/" class="btn btn-secondary">home</a>
      <div class="nav-links">
        <a href="/letters/letters/7317-9374.html" class="btn btn-secondary">← 7/3/17</a>
        <a href="/letters/letters/7217.html" class="btn btn-secondary">7/2/17 →</a>
      </div>
    </nav>
  
  </div>

  <script>
    // PWA installation prompt
    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'flex';
      }
    });

    async function installPWA() {
      if (!deferredPrompt) {
        // If not installable, redirect to PWA
        window.location.href = '/letters/app/';
        return;
      }

      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      
      if (outcome === 'accepted') {
        console.log('PWA installed');
      }
      
      deferredPrompt = null;
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'none';
      }
    }

    function openPWA() {
      // Mark PWA preference and redirect
      localStorage.setItem('pwa-preferred', 'true');

      // Extract the letter slug from current URL if on a letter page
      const path = window.location.pathname;
      const match = path.match(//letters/([^/]+).html$/);

      if (match) {
        const slug = match[1];
        window.location.href = '/letters/app/?letter=' + encodeURIComponent(slug);
      } else {
        window.location.href = '/letters/app/';
      }
    }

    // PWA Auto-redirect: Check if user prefers PWA or has ?pwa=1 parameter
    (function() {
      const params = new URLSearchParams(window.location.search);
      const preferPWA = params.get('pwa') === '1';
      const hasPWAPreference = localStorage.getItem('pwa-preferred') === 'true';

      // Don't redirect if already in standalone mode (PWA is installed and running)
      const isStandalone = window.matchMedia('(display-mode: standalone)').matches;

      if ((preferPWA || hasPWAPreference) && !isStandalone) {
        // Redirect to PWA with letter context
        const path = window.location.pathname;
        const match = path.match(//letters/([^/]+).html$/);

        if (match) {
          const slug = match[1];
          window.location.href = '/letters/app/?letter=' + encodeURIComponent(slug);
        } else {
          window.location.href = '/letters/app/';
        }
        return; // Stop further execution
      }
    })();

    // Progressive Enhancement: Check if user has PWA installed
    // If they do, show banner suggesting to use the app
    if (window.matchMedia('(display-mode: standalone)').matches) {
      // User is in standalone mode (PWA is installed and running)
      // Keep them on static page - they're already in PWA mode
      console.log('Running in PWA mode');
    } else {
      // Check if user has previously used the PWA (has cached data)
      if ('caches' in window) {
        caches.keys().then(cacheNames => {
          const hasPWACache = cacheNames.some(name =>
            name.includes('static-') || name.includes('data-')
          );

          // Only show PWA banner if they have cached content
          if (hasPWACache) {
            const banner = document.querySelector('.pwa-banner');
            if (banner && banner.style.display === 'none') {
              banner.style.display = 'flex';
            }
          }
        });
      }
    }

    // Register service worker for all pages
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker
          .register('/letters/sw.js', { scope: '/letters/' })
          .then((registration) => {
            console.log('SW registered:', registration);
          })
          .catch((error) => {
            console.log('SW registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>