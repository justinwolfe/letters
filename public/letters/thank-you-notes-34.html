<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="thank you notes 3/4">
  <title>thank you notes 3/4 - Thank You Notes</title>
  <link rel="manifest" href="/letters/manifest.json">
  <meta name="theme-color" content="#007bff">
  <link rel="apple-touch-icon" href="/letters/icon-192.png">
  <style>
    /**
 * Shared Styles for Thank You Notes
 * Used by both the static site and PWA version
 */

/* Base Reset and Layout */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #f5f5f5;
  color: #333;
  line-height: 1.6;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem 1rem;
}

/* Loading and Error States */
.loading,
.error {
  text-align: center;
  padding: 3rem;
  font-size: 1.2rem;
}

.error {
  color: #dc3545;
}

/* Header */
.header {
  margin-bottom: 1.5rem;
  text-align: center;
}

.header h1 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
}

.subtitle {
  font-size: 1rem;
  color: #666;
}

/* Controls */
.controls {
  margin-bottom: 2rem;
}

.search-container {
  position: relative;
  margin-bottom: 1rem;
}

.search-input {
  width: 100%;
  padding: 0.75rem 2.5rem 0.75rem 1rem;
  font-size: 1rem;
  border: 2px solid #dee2e6;
  border-radius: 8px;
  outline: none;
  transition: border-color 0.2s;
  background: white;
}

.search-input:focus {
  border-color: #007bff;
}

.clear-search {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  font-size: 1.25rem;
  color: #6c757d;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  line-height: 1;
  transition: color 0.2s;
}

.clear-search:hover {
  color: #333;
}

.control-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.sort-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.sort-container label {
  font-size: 0.875rem;
  font-weight: 500;
  color: #666;
}

.sort-select {
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  border: 2px solid #dee2e6;
  border-radius: 6px;
  background: white;
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s;
}

.sort-select:focus {
  border-color: #007bff;
}

.result-count {
  font-size: 0.875rem;
  font-weight: 600;
  color: #495057;
  padding: 0.5rem 0.75rem;
  background: #e9ecef;
  border-radius: 6px;
  white-space: nowrap;
}

.btn-random {
  background: #28a745;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-random:hover {
  background: #218838;
  transform: translateY(-1px);
}

.btn-random:active {
  transform: translateY(0);
}

.searching,
.no-results {
  text-align: center;
  padding: 3rem 1rem;
  font-size: 1.1rem;
  color: #666;
}

/* Email/Letter List */
.list,
.letter-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.email-card,
.letter-card {
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  text-decoration: none;
  color: inherit;
  display: block;
}

.email-card:hover,
.letter-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.email-card-image {
  width: 100%;
  height: 200px;
  overflow: hidden;
  background: #e9ecef;
}

.email-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.email-card-content,
.letter-card {
  padding: 1.5rem;
}

.email-card h2,
.letter-card h2 {
  font-size: 1.5rem;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  font-weight: 600;
}

.email-description,
.letter-card p {
  color: #666;
  margin-bottom: 0.75rem;
  line-height: 1.5;
}

.email-search-snippet {
  color: #555;
  margin-bottom: 0.75rem;
  line-height: 1.5;
  font-style: italic;
}

.search-highlight {
  background: #fff3cd;
  color: #856404;
  font-weight: 700;
  padding: 0.1rem 0.2rem;
  border-radius: 3px;
  font-style: normal;
}

.email-date,
.letter-card time {
  display: block;
  font-size: 0.875rem;
  color: #888;
}

/* Email/Letter Reader */
.email-reader,
.letter-content {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  margin-bottom: 2rem;
}

.email-reader {
  touch-action: pan-y pinch-zoom;
}

.reader-nav,
.navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  background: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
  gap: 1rem;
  flex-wrap: wrap;
}

.reader-nav-bottom {
  border-top: 1px solid #dee2e6;
  border-bottom: none;
}

.nav-buttons,
.nav-links {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

/* Buttons */
.btn {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  text-decoration: none;
  display: inline-block;
}

.btn:hover {
  transform: translateY(-1px);
}

.btn:active {
  transform: translateY(0);
}

.btn-secondary {
  background: #6c757d;
  color: white;
}

.btn-secondary:hover {
  background: #5a6268;
}

.btn-nav {
  background: #007bff;
  color: white;
}

.btn-nav:hover {
  background: #0056b3;
}

.btn-back-arrow {
  background: none;
  border: none;
  color: #333;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  transition: color 0.2s, transform 0.1s;
  line-height: 1;
}

.btn-back-arrow:hover {
  color: #007bff;
  transform: translateX(-2px);
}

.btn-back-arrow:active {
  transform: translateX(0);
}

/* Email/Letter Content */
.email-content,
.letter-content {
  padding: 2rem 1.5rem;
}

.email-header,
.letter-header {
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 2px solid #e9ecef;
}

.email-header h1,
.letter-header h1 {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-header .email-date,
.letter-header time {
  font-size: 1rem;
  color: #666;
}

/* Email/Letter Body Styles */
.email-body,
.letter-body {
  font-size: 1.0625rem;
  line-height: 1.7;
  color: #333;
}

.email-body h1,
.email-body h2,
.email-body h3,
.email-body h4,
.email-body h5,
.email-body h6,
.letter-body h1,
.letter-body h2,
.letter-body h3,
.letter-body h4,
.letter-body h5,
.letter-body h6 {
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  font-weight: 600;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-body h1,
.letter-body h1 {
  font-size: 1.875rem;
}

.email-body h2,
.letter-body h2 {
  font-size: 1.5rem;
}

.email-body h3,
.letter-body h3 {
  font-size: 1.25rem;
}

.email-body p,
.letter-body p {
  margin-bottom: 1rem;
}

.email-body a,
.letter-body a {
  color: #007bff;
  text-decoration: none;
}

.email-body a:hover,
.letter-body a:hover {
  text-decoration: underline;
}

.email-body img,
.letter-body img {
  max-width: 100%;
  height: auto;
  border-radius: 4px;
  margin: 1.5rem 0;
}

.email-body ul,
.email-body ol,
.letter-body ul,
.letter-body ol {
  margin-bottom: 1rem;
  padding-left: 2rem;
}

.email-body li,
.letter-body li {
  margin-bottom: 0.5rem;
}

.email-body blockquote,
.letter-body blockquote {
  margin: 1.5rem 0;
  padding-left: 1rem;
  border-left: 4px solid #e9ecef;
  color: #666;
  font-style: italic;
}

.email-body code,
.letter-body code {
  background: #f8f9fa;
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
  font-family: 'Courier New', monospace;
  font-size: 0.9em;
}

.email-body pre,
.letter-body pre {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  margin: 1.5rem 0;
}

.email-body pre code,
.letter-body pre code {
  background: none;
  padding: 0;
}

.email-body hr,
.letter-body hr {
  border: none;
  border-top: 2px solid #e9ecef;
  margin: 2rem 0;
}

/* PWA Banner */
.pwa-banner {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 1rem;
  border-radius: 8px;
  margin: 1rem 0 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.pwa-banner-text {
  flex: 1;
  min-width: 200px;
}

.pwa-banner-text h3 {
  margin-bottom: 0.25rem;
  font-size: 1.1rem;
}

.pwa-banner-text p {
  font-size: 0.9rem;
  opacity: 0.9;
}

.btn-primary {
  background: #007bff;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-primary:hover {
  background: #0056b3;
  transform: translateY(-1px);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-primary:disabled {
  background: #6c757d;
  cursor: not-allowed;
  transform: none;
}

.btn-danger {
  background: #dc3545;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-danger:hover {
  background: #c82333;
  transform: translateY(-1px);
}

.btn-danger:active {
  transform: translateY(0);
}

/* Offline & PWA UI */
.offline-banner {
  background: #ff9800;
  color: white;
  padding: 0.75rem 1rem;
  text-align: center;
  border-radius: 8px;
  margin-bottom: 1rem;
  font-weight: 500;
}

.download-progress {
  background: white;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.download-progress-bar {
  height: 8px;
  background: #e9ecef;
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.download-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #007bff, #0056b3);
  transition: width 0.3s ease;
}

.download-progress p {
  font-size: 0.875rem;
  color: #666;
  text-align: center;
  margin: 0;
}

.btn-offline {
  background: #6c757d;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-offline:hover {
  background: #5a6268;
  transform: translateY(-1px);
}

.btn-offline:active {
  transform: translateY(0);
}

.offline-panel {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.offline-panel h3 {
  margin-bottom: 1rem;
  color: #1a1a1a;
  font-size: 1.25rem;
}

.offline-stats {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 6px;
  margin-bottom: 1rem;
}

.offline-stats p {
  margin: 0.5rem 0;
  color: #495057;
  font-size: 0.9375rem;
}

.offline-actions {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.offline-note {
  font-size: 0.875rem;
  color: #666;
  line-height: 1.5;
  margin: 0;
  font-style: italic;
}

/* Responsive Design */
@media (max-width: 768px) {
  .container {
    padding: 1rem 0.5rem;
  }

  .header h1 {
    font-size: 2rem;
  }

  .control-row {
    flex-direction: column;
    align-items: stretch;
  }

  .sort-container {
    width: 100%;
    justify-content: space-between;
  }

  .sort-select {
    flex: 1;
  }

  .result-count {
    text-align: center;
  }

  .btn-random {
    width: 100%;
  }

  .email-card-content {
    padding: 1rem;
  }

  .email-card h2 {
    font-size: 1.25rem;
  }

  .email-content,
  .letter-content {
    padding: 1.5rem 1rem;
  }

  .email-header h1,
  .letter-header h1 {
    font-size: 1.5rem;
  }

  .reader-nav,
  .navigation {
    flex-direction: column;
    align-items: stretch;
  }

  .nav-buttons,
  .nav-links {
    flex-direction: column;
  }

  .btn {
    width: 100%;
    text-align: center;
  }

  .btn-nav {
    font-size: 0.8125rem;
    white-space: normal;
    word-wrap: break-word;
  }

  body {
    padding: 10px;
  }

  .pwa-banner {
    flex-direction: column;
    text-align: center;
  }
}

@media (max-width: 480px) {
  .email-card-image {
    height: 150px;
  }

  .email-body,
  .letter-body {
    font-size: 1rem;
  }
}

    
    /* Static site specific adjustments */
    body {
      padding: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    
    <div class="pwa-banner" style="display: none;">
      <div class="pwa-banner-text">
        <h3>📱 Read Offline</h3>
        <p>Install the app to read all letters offline</p>
      </div>
      <div>
        <button class="btn btn-primary" onclick="installPWA()">Install App</button>
      </div>
    </div>

    <article class="letter-content">
      <header class="letter-header">
        <h1>thank you notes 3/4</h1>
        <time datetime="2016-03-04T00:00:00Z">March 3, 2016</time>
      </header>

      <div class="letter-body">
        <p>i&#39;m thankful that i felt irritable and annoyed at various points yesterday, but that i never got down to the point of feeling low and hopeless and exhausted that i&#39;ve gotten to every other day this week. i&#39;m thankful that when i stopped at cvs on my way home, the prescriptions i was picking up for my antidepressants, which were already cheap, are now completely covered by my insurance. i&#39;m thankful for having a cvs downtown now, since the one i used to use was so out of the way. i&#39;m thankful that when i got home, d did dishes while i made dinner (a modified version of this evergreen <a href="http://www.thewednesdaychef.com/the_wednesday_chef/2014/02/fuchsia-dunlops-sichuanese-chopped-celery-with-beef.html">recipe</a> over brown rice, which was still good even though we were out of black vinegar) and we sang along loudly to beyoncé. i&#39;m thankful for the <a href="https://www.youtube.com/watch?v=UDtEEVNuq2s">norteño version</a> of &quot;<a href="https://www.youtube.com/watch?v=2EwViQxSJJQ">irreplaceable</a>&quot;on the deluxe version of <em>b&#39;day</em>. i&#39;m thankful for how in &quot;<a href="https://www.youtube.com/watch?v=sQgd6MccwZc">say my name</a>,&quot; the thesis of the spare, syncopated verses meets the antithesis of the hyperspeed maximalist bridge melody in the gorgeous lines of long vowels of the slow motion harmonies of the chorus, which makes me feel like i&#39;m floating. i&#39;m thankful for the way she often varies the melodies of the later bars of a chorus, going higher or introducing interesting bits of melisma, and how d and i tried and joyously failed to match her together. </p>
<p>i&#39;m thankful how during dinner we were watching the fourth episode of <em>love</em> on netflix_,_ which was the best one yet, and they played &quot;<a href="https://www.youtube.com/watch?v=5yXqRiXMru0">laid</a>&quot; by james as the soundtrack for a brief party montage. i&#39;m thankful for the way that song, which i have listened to repeatedly today in an effort to be in a better mood, uses frequent drumrolls as springboards into happiness. i&#39;m thankful how there is a scene at the end of the episode where the two leads are sitting on a bathroom floor against the wall of the bathtub and the show&#39;s funniest character, gillian jacobs&#39; character&#39;s australian roommate, comes and sits next to them. i&#39;m thankful that as she sat down, d yelled out &quot;_i just saw her pantie_s&quot; and that when i expressed disappointment at missing them and asked her what color they were, she said, authoritatively, &quot;<em>white</em>.&quot; i&#39;m thankful at how every subsequent cut back to the two shot (or three shot, as it were), she laughed about how the actress had her hand resting in front of her crotch and how after the episode ended she insisted on rewinding the episode several times to show me this inadvertent upskirt. i&#39;m thankful for the moment earlier in the episode when a man does a very broad fisting hand gesture to inform the australian roommate that the guy she&#39;s flirting with is gay.</p>
<p>i&#39;m thankful for the picture a visiting lecturer put on facebook of a pair of white michael kors briefs left on the lawn of a fraternity house.</p>
<p>i&#39;m thankful that after two weeks of waiting and ten minutes of sitting on hold with my doctor&#39;s office, i found out that the test i did for my esophagus didn&#39;t work because the capsule malfunctioned and so it will have to be done all over again. i&#39;m thankful that to celebrate the lameness of this, we are having pizza, which is the biggest trigger food for my digestive issues, for dinner tonight. i&#39;m thankful for pizza, which i have diligently avoided eating for what feels like forever, and for this classic episode of chelsea peretti&#39;s podcast in which she advocates for the controversial position (which i do not endorse, despite my great respect and adoration for her), that <a href="http://www.feralaudio.com/21-mac-and-cheese-is-better-than-pizza/">macaroni and cheese is better than pizza</a>.</p>
<p>i&#39;m thankful that yesterday we surprised the office accountant with a celebration of her thirty five years of service to the university. i&#39;m thankful that we told her at the last minute that she had to come to the graduate faculty meeting because of a budget issue, which annoyed her, and how she was really surprised at the celebration, which included speeches, a plaque, and an arrangement of bagels and coffee. i&#39;m thankful to have seen her cry with happiness, which was something i never thought i&#39;d see. i&#39;m thankful to imagine she has been working her for longer than i have been alive, which is so hard to hold in my head conceptually. i&#39;m thankful that the department chair read a list of things that had happened in 1980, including reagan&#39;s inauguration, and how after we all clapped and everyone attacked the food, a faculty member and i joked about how, though she&#39;s very conservative and doesn&#39;t share our politics, we would have rather had her as president because she would&#39;ve actually been fiscally responsible rather than just preaching it and would have scoffed at the idea of spending money on a space-based missile defense system.</p>
<p>i&#39;m thankful how happy office food makes people. i&#39;m thankful for all the conversations around the office candy jar, which is our (less healthy) version of a watercooler. i&#39;m thankful for a faculty member&#39;s daily reports to me about the qualities of his frozen gluten free lunches, which have recently included &quot;bibimbap&quot; (scare quotes mine) and lemongrass coconut chicken. i&#39;m thankful that our coworker likes to diet shame people in the office and so i, in turn, like to play the role of gleeful enabler. i&#39;m thankful for the faculty member who told me she had tried to eat better, but admitted with some pride that she&#39;s ultimately just a &quot;carb freak&quot; who &quot;<em>loves</em> pasta.&quot; i&#39;m thankful that we talked about our love of eating large bowls of pasta. i&#39;m thankful for the anecdote she told me about buying three bags of chips at the grocery store and going home and feeling like she couldn&#39;t just sit and eat chips by herself so she asked her son if he wanted some and then they ate them together. i&#39;m thankful for inadvertent moments of connection like this. i&#39;m thankful the office accountant was sick this morning and so, to help her avoid spreading germs and also to express affection for her, i picked out her bagel and spread cream cheese on it for her. i&#39;m thankful how, while crumbing the conference room table with a cardboard coffee holder, i felt briefly light and efficient and happy, like some kind of kondo-y sprite.</p>
<p>i&#39;m thankful to remind myself that it&#39;s not really my coworker&#39;s fault that she annoys me sometimes/often. i&#39;m thankful that though we have different communication styles and different understandings of personal space, she always means well and is trying to do a good job. i&#39;m thankful to remind myself of that. i&#39;m thankful for her talent with graphic design and her love of video games, which we have bonded over. i&#39;m thankful for how pleased she is to be praised for doing a good job, especially by faculty members she likes, even if i let that annoy me for i don&#39;t even know what reason, since faculty are always generous with praise for me as well. i&#39;m thankful that she is now in a good and happy relationship, even though i am kind of ashamed to admit i found it easier to sympathize with her and ignore the things about her personality that annoy me when she was in an unhappy relationship. i&#39;m thankful to recognize that despite the unreasonable annoyance i felt and internally raged against her for, it&#39;s not her fault that i left my gym shorts in my desk when i went to go running at lunch, even if she was hovering over the drawer for an extended period of time while waiting for a printer to warm up and i had to get her to move so i could get them. i&#39;m thankful that i know that even the use of the word &quot;hovering&quot; is me unfairly imposing meaning over her standing over the printer, which is just a thing you sometimes have to do with that printer because it can be finicky. i&#39;m thankful that all things and people can be finicky sometimes and we find ways to live our lives and work around them (or, if we are the finicky things or people, as i often am, find ways to work around ourselves).</p>
<p>i&#39;m thankful for kylie and kim <a href="http://www.dailymail.co.uk/tvshowbiz/article-3476068/Kim-Kardashian-Kylie-Jenner-prove-practically-interchangeable-face-swap.html">using the snapchat face swap on each other</a>, which seems like the ne plus ultra of <a href="https://www.youtube.com/watch?v=O3dWBLoU--E">face swapping</a>. i&#39;m thankful that i used the snapchat filter with the makeup face to send d&#39;s sister e a weird message about having bad dreams and she sent us back a cute snap of her wearing the dog costume and singing along to a song she likes. i&#39;m thankful for <a href="http://motherboard.vice.com/read/death-is-a-high-tech-trip-in-japans-futuristic-cemeteries?utm_source=mbtwitter">this <em>motherboard</em> report</a> on a gorgeous phillip k.dick-ish buddhist cemetery in japan, where i would be happy to be interred (i&#39;m thankful that my parents have been very explicit with me about wanting to be cremated and how my dad wants his ashes spread on the beach of hte clothing optional beach he loves). i&#39;m thankful for <a href="https://www.rockpapershotgun.com/2016/03/02/the-ice-bound-concordance-review/#more-351259">this book/game</a>, which sounds really cool. i&#39;m thankful for the book i started last night, <em><a href="http://www.amazon.com/gp/product/B00SRVA78Y/ref=dp-kindle-redirect?ie=UTF8&btkr=1">the thing itself</a></em> by adam roberts, which is really funny/scary/interesting so far (i&#39;m thankful for the last scary/thoughtful book that d recommended for me, the fantastic <em><a href="http://www.amazon.com/gp/product/B00MTSKHKO/ref=dp-kindle-redirect?ie=UTF8&btkr=1">a head full of ghosts</a>,</em> which is about reality shows and the toxicity of the patriarchy and has sections written as tv recaps). i&#39;m thankful for <a href="http://www.vox.com/2016/3/2/11115974/lsd-internet-addiction">this story</a> about microdosing LSD to try to cure internet addiction. i&#39;m thankful to remember the most recent time i did mushrooms and how much more interesting the ui of iOS looked than it usually does. i&#39;m thankful to have learned from <a href="http://www.metafilter.com/157615/New-hosts-for-Americas-Test-Kitchen-announced">this metafilter post</a> that christopher kimball, ex-<em>america&#39;s test kitchen,</em> plays lead guitar in a <a href="https://christopherkimball.wordpress.com/2010/09/21/pig-roast-2010/">grateful dead tribute band</a>, which seems both surprising and inevitable.</p>
<p>i&#39;m thankful that it&#39;s friday. i&#39;m thankful for the song my family sang to each other on fridays in the car on the way to school and/or work when i was growing up, which was &quot;<em>it&#39;s fri-day, it&#39;s fri-day, it&#39;s reallyreallyreally fri-day</em>&quot; and which i always think of when i feel happy about it being friday. i&#39;m thankful that it&#39;s friday. i&#39;m thankful that it&#39;s friday. i&#39;m thankful that it&#39;s really really really friday.</p>

      </div>
    </article>

    <nav class="navigation">
      <a href="/letters/" class="btn btn-secondary">home</a>
      <div class="nav-links">
        <a href="/letters/letters/tyn-fsa3.html" class="btn btn-secondary">← tyn (fsa)(3)</a>
        <a href="/letters/letters/thank-you-notes-madeleine.html" class="btn btn-secondary">thank you notes (madeleine) →</a>
      </div>
    </nav>
  
  </div>

  <script>
    // PWA installation prompt
    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'flex';
      }
    });

    async function installPWA() {
      if (!deferredPrompt) {
        // If not installable, redirect to PWA
        window.location.href = '/letters/app/';
        return;
      }

      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      
      if (outcome === 'accepted') {
        console.log('PWA installed');
      }
      
      deferredPrompt = null;
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'none';
      }
    }

    function openPWA() {
      window.location.href = '/letters/app/';
    }

    // Progressive Enhancement: Check if user has PWA installed
    // If they do, redirect them to the app version for a richer experience
    if (window.matchMedia('(display-mode: standalone)').matches) {
      // User is in standalone mode (PWA is installed and running)
      // Keep them on static page - they're already in PWA mode
      console.log('Running in PWA mode');
    } else {
      // Check if user has previously used the PWA (has cached data)
      if ('caches' in window) {
        caches.keys().then(cacheNames => {
          const hasPWACache = cacheNames.some(name => 
            name.includes('static-') || name.includes('data-')
          );
          
          // Only show PWA banner if they have cached content
          if (hasPWACache) {
            const banner = document.querySelector('.pwa-banner');
            if (banner && banner.style.display === 'none') {
              banner.style.display = 'flex';
            }
          }
        });
      }
    }

    // Register service worker for all pages
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker
          .register('/letters/sw.js', { scope: '/letters/' })
          .then((registration) => {
            console.log('SW registered:', registration);
          })
          .catch((error) => {
            console.log('SW registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>