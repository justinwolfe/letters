<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="thank you notes 4/18">
  <title>thank you notes 4/18 - Thank You Notes</title>
  <link rel="manifest" href="/letters/manifest.json">
  <meta name="theme-color" content="#007bff">
  <link rel="apple-touch-icon" href="/letters/icon-192.png">
  <style>
    /**
 * Shared Styles for Thank You Notes
 * Used by both the static site and PWA version
 */

/* Base Reset and Layout */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #f5f5f5;
  color: #333;
  line-height: 1.6;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem 1rem;
}

/* Loading and Error States */
.loading,
.error {
  text-align: center;
  padding: 3rem;
  font-size: 1.2rem;
}

.error {
  color: #dc3545;
}

/* Header */
.header {
  margin-bottom: 1.5rem;
  text-align: center;
}

.header h1 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
}

.subtitle {
  font-size: 1rem;
  color: #666;
}

/* Controls */
.controls {
  margin-bottom: 2rem;
}

.search-container {
  position: relative;
  margin-bottom: 1rem;
}

.search-input {
  width: 100%;
  padding: 0.75rem 2.5rem 0.75rem 1rem;
  font-size: 1rem;
  border: 2px solid #dee2e6;
  border-radius: 8px;
  outline: none;
  transition: border-color 0.2s;
  background: white;
}

.search-input:focus {
  border-color: #007bff;
}

.clear-search {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  font-size: 1.25rem;
  color: #6c757d;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  line-height: 1;
  transition: color 0.2s;
}

.clear-search:hover {
  color: #333;
}

.control-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.sort-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.sort-container label {
  font-size: 0.875rem;
  font-weight: 500;
  color: #666;
}

.sort-select {
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  border: 2px solid #dee2e6;
  border-radius: 6px;
  background: white;
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s;
}

.sort-select:focus {
  border-color: #007bff;
}

.result-count {
  font-size: 0.875rem;
  font-weight: 600;
  color: #495057;
  padding: 0.5rem 0.75rem;
  background: #e9ecef;
  border-radius: 6px;
  white-space: nowrap;
}

.btn-random {
  background: #28a745;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-random:hover {
  background: #218838;
  transform: translateY(-1px);
}

.btn-random:active {
  transform: translateY(0);
}

.searching,
.no-results {
  text-align: center;
  padding: 3rem 1rem;
  font-size: 1.1rem;
  color: #666;
}

/* Email/Letter List */
.list,
.letter-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.email-card,
.letter-card {
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  text-decoration: none;
  color: inherit;
  display: block;
}

.email-card:hover,
.letter-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.email-card-image {
  width: 100%;
  height: 200px;
  overflow: hidden;
  background: #e9ecef;
}

.email-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.email-card-content,
.letter-card {
  padding: 1.5rem;
}

.email-card h2,
.letter-card h2 {
  font-size: 1.5rem;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  font-weight: 600;
}

.email-description,
.letter-card p {
  color: #666;
  margin-bottom: 0.75rem;
  line-height: 1.5;
}

.email-search-snippet {
  color: #555;
  margin-bottom: 0.75rem;
  line-height: 1.5;
  font-style: italic;
}

.search-highlight {
  background: #fff3cd;
  color: #856404;
  font-weight: 700;
  padding: 0.1rem 0.2rem;
  border-radius: 3px;
  font-style: normal;
}

.email-date,
.letter-card time {
  display: block;
  font-size: 0.875rem;
  color: #888;
}

/* Email/Letter Reader */
.email-reader,
.letter-content {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  margin-bottom: 2rem;
}

.email-reader {
  touch-action: pan-y pinch-zoom;
}

.reader-nav,
.navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  background: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
  gap: 1rem;
  flex-wrap: wrap;
}

.reader-nav-bottom {
  border-top: 1px solid #dee2e6;
  border-bottom: none;
}

.nav-buttons,
.nav-links {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

/* Buttons */
.btn {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  text-decoration: none;
  display: inline-block;
}

.btn:hover {
  transform: translateY(-1px);
}

.btn:active {
  transform: translateY(0);
}

.btn-secondary {
  background: #6c757d;
  color: white;
}

.btn-secondary:hover {
  background: #5a6268;
}

.btn-nav {
  background: #007bff;
  color: white;
}

.btn-nav:hover {
  background: #0056b3;
}

.btn-back-arrow {
  background: none;
  border: none;
  color: #333;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  transition: color 0.2s, transform 0.1s;
  line-height: 1;
}

.btn-back-arrow:hover {
  color: #007bff;
  transform: translateX(-2px);
}

.btn-back-arrow:active {
  transform: translateX(0);
}

/* Email/Letter Content */
.email-content,
.letter-content {
  padding: 2rem 1.5rem;
}

.email-header,
.letter-header {
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 2px solid #e9ecef;
}

.email-header h1,
.letter-header h1 {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-header .email-date,
.letter-header time {
  font-size: 1rem;
  color: #666;
}

/* Email/Letter Body Styles */
.email-body,
.letter-body {
  font-size: 1.0625rem;
  line-height: 1.7;
  color: #333;
}

.email-body h1,
.email-body h2,
.email-body h3,
.email-body h4,
.email-body h5,
.email-body h6,
.letter-body h1,
.letter-body h2,
.letter-body h3,
.letter-body h4,
.letter-body h5,
.letter-body h6 {
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  font-weight: 600;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-body h1,
.letter-body h1 {
  font-size: 1.875rem;
}

.email-body h2,
.letter-body h2 {
  font-size: 1.5rem;
}

.email-body h3,
.letter-body h3 {
  font-size: 1.25rem;
}

.email-body p,
.letter-body p {
  margin-bottom: 1rem;
}

.email-body a,
.letter-body a {
  color: #007bff;
  text-decoration: none;
}

.email-body a:hover,
.letter-body a:hover {
  text-decoration: underline;
}

.email-body img,
.letter-body img {
  max-width: 100%;
  height: auto;
  border-radius: 4px;
  margin: 1.5rem 0;
}

.email-body ul,
.email-body ol,
.letter-body ul,
.letter-body ol {
  margin-bottom: 1rem;
  padding-left: 2rem;
}

.email-body li,
.letter-body li {
  margin-bottom: 0.5rem;
}

.email-body blockquote,
.letter-body blockquote {
  margin: 1.5rem 0;
  padding-left: 1rem;
  border-left: 4px solid #e9ecef;
  color: #666;
  font-style: italic;
}

.email-body code,
.letter-body code {
  background: #f8f9fa;
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
  font-family: 'Courier New', monospace;
  font-size: 0.9em;
}

.email-body pre,
.letter-body pre {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  margin: 1.5rem 0;
}

.email-body pre code,
.letter-body pre code {
  background: none;
  padding: 0;
}

.email-body hr,
.letter-body hr {
  border: none;
  border-top: 2px solid #e9ecef;
  margin: 2rem 0;
}

/* PWA Banner */
.pwa-banner {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 1rem;
  border-radius: 8px;
  margin: 1rem 0 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.pwa-banner-text {
  flex: 1;
  min-width: 200px;
}

.pwa-banner-text h3 {
  margin-bottom: 0.25rem;
  font-size: 1.1rem;
}

.pwa-banner-text p {
  font-size: 0.9rem;
  opacity: 0.9;
}

.btn-primary {
  background: #007bff;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-primary:hover {
  background: #0056b3;
  transform: translateY(-1px);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-primary:disabled {
  background: #6c757d;
  cursor: not-allowed;
  transform: none;
}

.btn-danger {
  background: #dc3545;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-danger:hover {
  background: #c82333;
  transform: translateY(-1px);
}

.btn-danger:active {
  transform: translateY(0);
}

/* Offline & PWA UI */
.offline-banner {
  background: #ff9800;
  color: white;
  padding: 0.75rem 1rem;
  text-align: center;
  border-radius: 8px;
  margin-bottom: 1rem;
  font-weight: 500;
}

.download-progress {
  background: white;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.download-progress-bar {
  height: 8px;
  background: #e9ecef;
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.download-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #007bff, #0056b3);
  transition: width 0.3s ease;
}

.download-progress p {
  font-size: 0.875rem;
  color: #666;
  text-align: center;
  margin: 0;
}

.btn-offline {
  background: #6c757d;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-offline:hover {
  background: #5a6268;
  transform: translateY(-1px);
}

.btn-offline:active {
  transform: translateY(0);
}

.offline-panel {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.offline-panel h3 {
  margin-bottom: 1rem;
  color: #1a1a1a;
  font-size: 1.25rem;
}

.offline-stats {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 6px;
  margin-bottom: 1rem;
}

.offline-stats p {
  margin: 0.5rem 0;
  color: #495057;
  font-size: 0.9375rem;
}

.offline-actions {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.offline-note {
  font-size: 0.875rem;
  color: #666;
  line-height: 1.5;
  margin: 0;
  font-style: italic;
}

/* Responsive Design */
@media (max-width: 768px) {
  .container {
    padding: 1rem 0.5rem;
  }

  .header h1 {
    font-size: 2rem;
  }

  .control-row {
    flex-direction: column;
    align-items: stretch;
  }

  .sort-container {
    width: 100%;
    justify-content: space-between;
  }

  .sort-select {
    flex: 1;
  }

  .result-count {
    text-align: center;
  }

  .btn-random {
    width: 100%;
  }

  .email-card-content {
    padding: 1rem;
  }

  .email-card h2 {
    font-size: 1.25rem;
  }

  .email-content,
  .letter-content {
    padding: 1.5rem 1rem;
  }

  .email-header h1,
  .letter-header h1 {
    font-size: 1.5rem;
  }

  .reader-nav,
  .navigation {
    flex-direction: column;
    align-items: stretch;
  }

  .nav-buttons,
  .nav-links {
    flex-direction: column;
  }

  .btn {
    width: 100%;
    text-align: center;
  }

  .btn-nav {
    font-size: 0.8125rem;
    white-space: normal;
    word-wrap: break-word;
  }

  body {
    padding: 10px;
  }

  .pwa-banner {
    flex-direction: column;
    text-align: center;
  }
}

@media (max-width: 480px) {
  .email-card-image {
    height: 150px;
  }

  .email-body,
  .letter-body {
    font-size: 1rem;
  }
}


    
    /* Static site specific adjustments */
    body {
      padding: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    
    <div class="pwa-banner" style="display: none;">
      <div class="pwa-banner-text">
        <h3>📱 Read Offline</h3>
        <p>Install the app to read all letters offline</p>
      </div>
      <div>
        <button class="btn btn-primary" onclick="installPWA()">Install App</button>
      </div>
    </div>

    <article class="letter-content">
      <header class="letter-header">
        <h1>thank you notes 4/18</h1>
        <time datetime="2016-04-18T00:00:00Z">April 17, 2016</time>
      </header>

      <div class="letter-body">
        <p>i&#39;m thankful, since it&#39;s gotten up to 80 the past few days, that i reinstalled our old bedroom window-unit air conditioner yesterday. i&#39;m thankful that i went down to our gross dark spiderwebby basement where there are creepy little dolls nailed up on the rafters (by the previous occupants, who i guess were into ironic horror), picked up the dusty gray box of an air conditioner, and hefted it up the stairs to the back bathroom. i&#39;m thankful, since somehow this house does not seem to have an outdoor hose (?!), that the bathtub was big enough for me to use to hose out the air conditioner, since the air conditioner had not been working well for most of the time we used it last fall, especially toward the end of the fall, when it barely worked at all, which we figured because it was dirty and clogged. i&#39;m thankful to have scrubbed the bathtub very vigorously after i finished hosing out the air conditioner and thankful that the porcelain was already scratched so the couple of extra scratches i added aren&#39;t noticeable.</p>
<p>i&#39;m thankful for our landlady, who is weird but nice and i think is currently on vacation in nepal. i&#39;m thankful to remember when we first toured the house a few days before moving in and she took us into the kitchen and showed us the oven (i&#39;m thankful so many cheap rental places here have gas stoves and ovens, which has spoiled me for cooking in our future houses and apartments). i&#39;m thankful how, turning on the oven, she said there was a trick to turning it off that had to do with how you turned the knob—i&#39;m thankful that she bragged that a line cook at our town&#39;s nicest restaurant used to live here and how he called her just after moving in in a panic because he couldn&#39;t turn the oven off. i&#39;m thankful that we laughed genuinely at this anecdote and then laughed uncomfortably when she kept turning the knob back and forth and it became clear that she could not remember the &quot;trick&quot; to turning off the oven. i&#39;m thankful this was the first week of august and all of us were dripping with sweat.</p>
<p>i&#39;m thankful that she breezily gave up on the oven and left her house cleaner to figure it out while she took us out through the mudroom on a tour of the garage, shed, and backyard. i&#39;m thankful that we realized that she would probably be a pretty hands-off landlord when she told us about how previous tenants of hers had hoarded garbage in the shed so as not to have to pay for tax stickers to have the city dispose of it and how she had lazily nagged them over time about it as the garbage had piled up higher and higher inside and how, for her, the final straw was when she went in there one day to get a rake and there was a dead cat inside—apparently he had gotten trapped in there with all the trash. i&#39;m thankful the other instructive story she told us was about how one summer she had sublet a one bedroom apartment in the building we used to live in and, when she got there, there was a chinese engineering student already living there who had been also been sublet the apartment by the former tenant. i&#39;m thankful how i was waiting for her to tell the story of how she straightened out the problem when she told me that she just moved in anyway and they shared the apartment and got along swimmingly, especially because he was always in the lab and so was rarely home.</p>
<p>i&#39;m thankful that she asked me to pull up a rusted metal grate set in the concrete pathway that led through the yard. i&#39;m thankful that the landlady leaned in and said &quot;<em>i wouldn&#39;t show everybody this, but i think you guys might get a kick out of it</em>,&quot; then asked me to lift up the grate. i&#39;m thankful that i did, even though when i did, a cloud of mosquitoes flew up around me and into the thick sky. i&#39;m thankful that below the grate, there was a rough, manhole-sized hole carved into the concrete, underneath which was a stretch of pure blackness, beyond which I could see a layer of black water with the white highlights of the sky lacquering the contours of its surface. i&#39;m thankful that the landlady explained that apparently, the house had at one point been on cistern water and this was the (now defunct) cistern. i&#39;m thankful for how the landlady went on to muse about the locally famous story of a missing girl who most people assume was murdered and how she said the sentence, &quot;_there are just so many places in this town that you could hide a bod_y&quot; and shook her head wistfully.</p>
<p>i&#39;m thankful how after that, we tried to go back into the house, but she stopped us and pointed up at the roof and asked if we noticed anything strange. i&#39;m thankful that after a moment, i saw that there was a window on the second floor, but knew that we had not seen any way inside the house to get up to a second floor. i&#39;m thankful that when i pointed this out, the landlady said &quot;<em>that&#39;s right</em>!&quot; (i&#39;m always thankful to get a right answer) and told us she had wondered about this and had, one day, climbed onto the roof with a friend and climbed in through the window to find a tiny, empty room with no doors, only accessible through the window (i&#39;m thankful that i later found a hatch inside the house, which i don&#39;t know how she could&#39;ve missed?). i&#39;m thankful that because we had told her we were writers, she said, &quot;<em>yeah, this place would be a great inspiration for a horror story for you guys. there&#39;s so much material</em>&quot; i&#39;m thankful she said that about the weird old house we were about to move into as newlyweds, which feels like the premise of at least half of horror movies.</p>
<p>i&#39;m thankful that when we reentered the house on the tour, about ten minutes after we&#39;d left, we were immediately hit with a massive wave of radiant heat coming out of the kitchen. i&#39;m thankful that the cleaner told us that she had just finally figured out how to get the oven off, that there was a trick to it where you had to turn it slowly counter clockwise until you heard a click and, even though the knob said that it was 200 degrees at that point, the click meant that it was off.  i&#39;m thankful that even though this seemed sketchy, i nodded along (and thankful that several days later, d and i spent an hour and a half playing with the knob in an increasingly baking kitchen before finally discovering that the trick is actually getting up to where you feel resistance just <em>before</em> the click, because if it clicks over, that is like 550 degrees or whatever).</p>
<p>i&#39;m thankful to remember how the landlady told us there were two window unit air conditioners in the basement, which, after living in a one bedroom apartment with one window unit air conditioner for 4 years, seemed like the height of luxury--we could be cool in the living room and the bedroom at the same time! i&#39;m thankful for our frustration, on the day after moving in, one of the dog days of august, to realize that one of the air conditioners would only fit in the window of the back bedroom, where its small stream of cool air would not efficiently leak out to the rest of the house, and that the other would not fit safely in any of the windows anywhere. i&#39;m thankful for how, after carrying the air conditioners around every room in the house, awkwardly trying to fit them into windows and spilling dirty water on myself and/or the floor and scraping myself with their sharp corners and exposed screw heads, how i felt so defeated and unhappy and like maybe moving into the house had been a mistake, even though we were tired of our apartment and needed a change.</p>
<p>i&#39;m thankful for the several trips to home depot we took over several days to buy an long metal bracket with holes in it at regular intervals (i&#39;m thankful that i&#39;m sure there must be a real term for this, but i have no idea what it is), which i screwed into the top of the AC unit and then used to secure the unit to the window frame. i&#39;m thankful that i learned about the importance of using washers to secure screws. i&#39;m thankful for the foam batting that we bought to seal the gaps of the window, which i secured to the wall using carpet tacks (we didn&#39;t have nails and superglue didn&#39;t work). i&#39;m thankful, when i finished, for the satisfaction i felt at my monstrous frankenstein mounting contraption (i&#39;m thankful that this weekend, i used duct tape and cardboard for sealing, which was much, much easier). i&#39;m thankful to remember the sweet relief of finally having air conditioning after a week spent sleeping shallowly and marinating in our own salty juices. </p>
<p>i&#39;m thankful that last night after dinner, i went into our bedroom and triumphantly pressed the power button on the air conditioner. i&#39;m thankful that the temperature display came up (77) and the fan started blowing out air immediately, but it wasn&#39;t particularly cold (i&#39;m thankful, because i&#39;m a hopeful person, that i told myself it was kind of cold, even though i knew it truly wasn&#39;t). i&#39;m thankful that i futzed with the temperature and intensity settings to see if it would make a difference; i&#39;m thankful when it didn&#39;t, i decided, still hopeful, to just wait, that maybe the air conditioner just had to &quot;wake up&quot; and &quot;get ready&quot; after being &quot;dormant&quot; for so long (i&#39;m thankful for foolish anthropomorphism). i&#39;m thankful that i sorted and folded two loads of laundry while i waited for the air conditioner to blow cold air. i&#39;m thankful for the moment when i heard the compressor whir on, its unique drone multi tracked over the static of the fan, and thankful that i got up and went over and stuck my hands over vent and felt the icy air washing over me. i&#39;m thankful for how happy i was to go back to my laundry and know that the room around me was getting colder.</p>
<p>i&#39;m thankful that after a few more minutes of folding, i noticed that the room wasn&#39;t getting colder anymore like it should be, that the temperature indicator, which had dropped to 73, was now back up to 76. i&#39;m thankful i did more setting futzing and eventually, for reasons beyond me, the compressor kicked on again. i&#39;m thankful that when that happened i stood in front of the air conditioner holding my hands in front of the cold air because i was afraid to leave and sit down because it felt like the force of my will and need was the only thing keeping the air conditioner going. i&#39;m thankful that i felt a little like a caveman or survivalist, trying to keep a fire from dying (except the opposite, because it was an air conditioner). i&#39;m thankful, when the compressor cut off and the air warmed again, to have been reminded that electronics do not respond to my will and need and magical thinking. i&#39;m thankful that i eventually gave up and turned the air conditioner off and thankful that even though d gets much colder than i do, she suggested that i put our box fan at the foot of the bed so that i could at least get some airflow going, which helped me not be miserable. i&#39;m thankful for sarah bakewell&#39;s <em><a href="http://www.nytimes.com/2016/03/03/books/review-in-sarah-bakewells-at-the-existentialist-cafe-nothingness-has-a-certain-something.html">at the existentialist café</a></em>, which i started reading before i fell asleep and which i am really enjoying so far. i&#39;m thankful for this paragraph in the layman&#39;s primer on phenomenology she offers early on:</p>
<p>&quot;<em>The point about rigor is crucial; it brings us back to the first half of the command to</em> describe phenomena_. a phenomenologist cannot get away with listening to a piece of music and saying: &#39;How lovely!&#39; He or she must ask: is it plaintive? is it dignified? is it colossal and sublime? The point is to keep coming  back to the &#39;things themselves&#39;—phenomena stripped of their conceptual baggage—so as to bail out weak or extraneous material and get to the heart of the experience. One might never finish adequately describing a cup of coffee. Yet it is a liberating task: it gives us back the world we live in. It works most effectively on the things we may not usually think of as material for philosophy: a drink, a melancholy song, a drive, a sunset, an ill-at-ease mood, a box of photographs, a moment of boredom. It restores this personal world in its richness, arranged around our own perspective yet usually no more noticed than the air._&quot;</p>
<p>i&#39;m thankful that we ordered a new air conditioner and it will be delivered tomorrow.</p>

      </div>
    </article>

    <nav class="navigation">
      <a href="/letters/" class="btn btn-secondary">home</a>
      <div class="nav-links">
        <a href="/letters/letters/thank-you-notes-esme4.html" class="btn btn-secondary">← thank you notes (esmé)(4)</a>
        <a href="/letters/letters/thank-you-notes-417.html" class="btn btn-secondary">thank you notes 4/17 →</a>
      </div>
    </nav>
  
  </div>

  <script>
    // PWA installation prompt
    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'flex';
      }
    });

    async function installPWA() {
      if (!deferredPrompt) {
        // If not installable, redirect to PWA
        window.location.href = '/letters/app/';
        return;
      }

      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      
      if (outcome === 'accepted') {
        console.log('PWA installed');
      }
      
      deferredPrompt = null;
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'none';
      }
    }

    function openPWA() {
      window.location.href = '/letters/app/';
    }

    // Progressive Enhancement: Check if user has PWA installed
    // If they do, redirect them to the app version for a richer experience
    if (window.matchMedia('(display-mode: standalone)').matches) {
      // User is in standalone mode (PWA is installed and running)
      // Keep them on static page - they're already in PWA mode
      console.log('Running in PWA mode');
    } else {
      // Check if user has previously used the PWA (has cached data)
      if ('caches' in window) {
        caches.keys().then(cacheNames => {
          const hasPWACache = cacheNames.some(name => 
            name.includes('static-') || name.includes('data-')
          );
          
          // Only show PWA banner if they have cached content
          if (hasPWACache) {
            const banner = document.querySelector('.pwa-banner');
            if (banner && banner.style.display === 'none') {
              banner.style.display = 'flex';
            }
          }
        });
      }
    }

    // Register service worker for all pages
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker
          .register('/letters/sw.js', { scope: '/letters/' })
          .then((registration) => {
            console.log('SW registered:', registration);
          })
          .catch((error) => {
            console.log('SW registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>