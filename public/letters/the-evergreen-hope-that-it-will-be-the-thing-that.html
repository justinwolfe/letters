<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="the evergreen hope that it will be The Thing That Will Fix Me">
  <title>the evergreen hope that it will be The Thing That Will Fix Me - Thank You Notes</title>
  <link rel="manifest" href="/letters/manifest.json">
  <meta name="theme-color" content="#007bff">
  <link rel="apple-touch-icon" href="/letters/icon-192.png">
  <style>
    /**
 * Shared Styles for Thank You Notes
 * Used by both the static site and PWA version
 */

/* Base Reset and Layout */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #f5f5f5;
  color: #333;
  line-height: 1.6;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem 1rem;
}

/* Loading and Error States */
.loading,
.error {
  text-align: center;
  padding: 3rem;
  font-size: 1.2rem;
}

.error {
  color: #dc3545;
}

/* Header */
.header {
  margin-bottom: 1.5rem;
  text-align: center;
}

.header h1 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
}

.subtitle {
  font-size: 1rem;
  color: #666;
}

/* Controls */
.controls {
  margin-bottom: 2rem;
}

.search-container {
  position: relative;
  margin-bottom: 1rem;
}

.search-input {
  width: 100%;
  padding: 0.75rem 2.5rem 0.75rem 1rem;
  font-size: 1rem;
  border: 2px solid #dee2e6;
  border-radius: 8px;
  outline: none;
  transition: border-color 0.2s;
  background: white;
}

.search-input:focus {
  border-color: #007bff;
}

.clear-search {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  font-size: 1.25rem;
  color: #6c757d;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  line-height: 1;
  transition: color 0.2s;
}

.clear-search:hover {
  color: #333;
}

.control-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.sort-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.sort-container label {
  font-size: 0.875rem;
  font-weight: 500;
  color: #666;
}

.sort-select {
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  border: 2px solid #dee2e6;
  border-radius: 6px;
  background: white;
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s;
}

.sort-select:focus {
  border-color: #007bff;
}

.result-count {
  font-size: 0.875rem;
  font-weight: 600;
  color: #495057;
  padding: 0.5rem 0.75rem;
  background: #e9ecef;
  border-radius: 6px;
  white-space: nowrap;
}

.btn-random {
  background: #28a745;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-random:hover {
  background: #218838;
  transform: translateY(-1px);
}

.btn-random:active {
  transform: translateY(0);
}

.searching,
.no-results {
  text-align: center;
  padding: 3rem 1rem;
  font-size: 1.1rem;
  color: #666;
}

/* Email/Letter List */
.list,
.letter-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.email-card,
.letter-card {
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  text-decoration: none;
  color: inherit;
  display: block;
}

.email-card:hover,
.letter-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.email-card-image {
  width: 100%;
  height: 200px;
  overflow: hidden;
  background: #e9ecef;
}

.email-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.email-card-content,
.letter-card {
  padding: 1.5rem;
}

.email-card h2,
.letter-card h2 {
  font-size: 1.5rem;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  font-weight: 600;
}

.email-description,
.letter-card p {
  color: #666;
  margin-bottom: 0.75rem;
  line-height: 1.5;
}

.email-search-snippet {
  color: #555;
  margin-bottom: 0.75rem;
  line-height: 1.5;
  font-style: italic;
}

.search-highlight {
  background: #fff3cd;
  color: #856404;
  font-weight: 700;
  padding: 0.1rem 0.2rem;
  border-radius: 3px;
  font-style: normal;
}

.email-date,
.letter-card time {
  display: block;
  font-size: 0.875rem;
  color: #888;
}

/* Email/Letter Reader */
.email-reader,
.letter-content {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  margin-bottom: 2rem;
}

.email-reader {
  touch-action: pan-y pinch-zoom;
}

.reader-nav,
.navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  background: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
  gap: 1rem;
  flex-wrap: wrap;
}

.reader-nav-bottom {
  border-top: 1px solid #dee2e6;
  border-bottom: none;
}

.nav-buttons,
.nav-links {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

/* Buttons */
.btn {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  text-decoration: none;
  display: inline-block;
}

.btn:hover {
  transform: translateY(-1px);
}

.btn:active {
  transform: translateY(0);
}

.btn-secondary {
  background: #6c757d;
  color: white;
}

.btn-secondary:hover {
  background: #5a6268;
}

.btn-nav {
  background: #007bff;
  color: white;
}

.btn-nav:hover {
  background: #0056b3;
}

.btn-back-arrow {
  background: none;
  border: none;
  color: #333;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  transition: color 0.2s, transform 0.1s;
  line-height: 1;
}

.btn-back-arrow:hover {
  color: #007bff;
  transform: translateX(-2px);
}

.btn-back-arrow:active {
  transform: translateX(0);
}

/* Email/Letter Content */
.email-content,
.letter-content {
  padding: 2rem 1.5rem;
}

.email-header,
.letter-header {
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 2px solid #e9ecef;
}

.email-header h1,
.letter-header h1 {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-header .email-date,
.letter-header time {
  font-size: 1rem;
  color: #666;
}

/* Email/Letter Body Styles */
.email-body,
.letter-body {
  font-size: 1.0625rem;
  line-height: 1.7;
  color: #333;
}

.email-body h1,
.email-body h2,
.email-body h3,
.email-body h4,
.email-body h5,
.email-body h6,
.letter-body h1,
.letter-body h2,
.letter-body h3,
.letter-body h4,
.letter-body h5,
.letter-body h6 {
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  font-weight: 600;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-body h1,
.letter-body h1 {
  font-size: 1.875rem;
}

.email-body h2,
.letter-body h2 {
  font-size: 1.5rem;
}

.email-body h3,
.letter-body h3 {
  font-size: 1.25rem;
}

.email-body p,
.letter-body p {
  margin-bottom: 1rem;
}

.email-body a,
.letter-body a {
  color: #007bff;
  text-decoration: none;
}

.email-body a:hover,
.letter-body a:hover {
  text-decoration: underline;
}

.email-body img,
.letter-body img {
  max-width: 100%;
  height: auto;
  border-radius: 4px;
  margin: 1.5rem 0;
}

.email-body ul,
.email-body ol,
.letter-body ul,
.letter-body ol {
  margin-bottom: 1rem;
  padding-left: 2rem;
}

.email-body li,
.letter-body li {
  margin-bottom: 0.5rem;
}

.email-body blockquote,
.letter-body blockquote {
  margin: 1.5rem 0;
  padding-left: 1rem;
  border-left: 4px solid #e9ecef;
  color: #666;
  font-style: italic;
}

.email-body code,
.letter-body code {
  background: #f8f9fa;
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
  font-family: 'Courier New', monospace;
  font-size: 0.9em;
}

.email-body pre,
.letter-body pre {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  margin: 1.5rem 0;
}

.email-body pre code,
.letter-body pre code {
  background: none;
  padding: 0;
}

.email-body hr,
.letter-body hr {
  border: none;
  border-top: 2px solid #e9ecef;
  margin: 2rem 0;
}

/* PWA Banner */
.pwa-banner {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 1rem;
  border-radius: 8px;
  margin: 1rem 0 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.pwa-banner-text {
  flex: 1;
  min-width: 200px;
}

.pwa-banner-text h3 {
  margin-bottom: 0.25rem;
  font-size: 1.1rem;
}

.pwa-banner-text p {
  font-size: 0.9rem;
  opacity: 0.9;
}

.btn-primary {
  background: #007bff;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-primary:hover {
  background: #0056b3;
  transform: translateY(-1px);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-primary:disabled {
  background: #6c757d;
  cursor: not-allowed;
  transform: none;
}

.btn-danger {
  background: #dc3545;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-danger:hover {
  background: #c82333;
  transform: translateY(-1px);
}

.btn-danger:active {
  transform: translateY(0);
}

/* Offline & PWA UI */
.offline-banner {
  background: #ff9800;
  color: white;
  padding: 0.75rem 1rem;
  text-align: center;
  border-radius: 8px;
  margin-bottom: 1rem;
  font-weight: 500;
}

.download-progress {
  background: white;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.download-progress-bar {
  height: 8px;
  background: #e9ecef;
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.download-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #007bff, #0056b3);
  transition: width 0.3s ease;
}

.download-progress p {
  font-size: 0.875rem;
  color: #666;
  text-align: center;
  margin: 0;
}

.btn-offline {
  background: #6c757d;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-offline:hover {
  background: #5a6268;
  transform: translateY(-1px);
}

.btn-offline:active {
  transform: translateY(0);
}

.offline-panel {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.offline-panel h3 {
  margin-bottom: 1rem;
  color: #1a1a1a;
  font-size: 1.25rem;
}

.offline-stats {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 6px;
  margin-bottom: 1rem;
}

.offline-stats p {
  margin: 0.5rem 0;
  color: #495057;
  font-size: 0.9375rem;
}

.offline-actions {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.offline-note {
  font-size: 0.875rem;
  color: #666;
  line-height: 1.5;
  margin: 0;
  font-style: italic;
}

/* Responsive Design */
@media (max-width: 768px) {
  .container {
    padding: 1rem 0.5rem;
  }

  .header h1 {
    font-size: 2rem;
  }

  .control-row {
    flex-direction: column;
    align-items: stretch;
  }

  .sort-container {
    width: 100%;
    justify-content: space-between;
  }

  .sort-select {
    flex: 1;
  }

  .result-count {
    text-align: center;
  }

  .btn-random {
    width: 100%;
  }

  .email-card-content {
    padding: 1rem;
  }

  .email-card h2 {
    font-size: 1.25rem;
  }

  .email-content,
  .letter-content {
    padding: 1.5rem 1rem;
  }

  .email-header h1,
  .letter-header h1 {
    font-size: 1.5rem;
  }

  .reader-nav,
  .navigation {
    flex-direction: column;
    align-items: stretch;
  }

  .nav-buttons,
  .nav-links {
    flex-direction: column;
  }

  .btn {
    width: 100%;
    text-align: center;
  }

  .btn-nav {
    font-size: 0.8125rem;
    white-space: normal;
    word-wrap: break-word;
  }

  body {
    padding: 10px;
  }

  .pwa-banner {
    flex-direction: column;
    text-align: center;
  }
}

@media (max-width: 480px) {
  .email-card-image {
    height: 150px;
  }

  .email-body,
  .letter-body {
    font-size: 1rem;
  }
}

    
    /* Static site specific adjustments */
    body {
      padding: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    
    <div class="pwa-banner" style="display: none;">
      <div class="pwa-banner-text">
        <h3>📱 Read Offline</h3>
        <p>Install the app to read all letters offline</p>
      </div>
      <div>
        <button class="btn btn-primary" onclick="installPWA()">Install App</button>
      </div>
    </div>

    <article class="letter-content">
      <header class="letter-header">
        <h1>the evergreen hope that it will be The Thing That Will Fix Me</h1>
        <time datetime="2021-07-13T00:00:00Z">July 12, 2021</time>
      </header>

      <div class="letter-body">
        <p>i have felt such an intense block to opening a computer outside of work lately, like to pathological levels, and yet have been feeling shitty and knowing that writing would help (it always helps, it has never not helped!) and so i tried writing a gratitude journal in a paper notebook, but as with other times when i was sure handwriting was the answer to all my problems i got so frustrated by the limitations of my own dexterity and the media of paper and so here i am again</p>
<p>remembering the summer in grad school when i tried to solve this problem with a typewriter (the first one i bought new from a sharper image catalog lol and it was made of plastic and broke within a week of light usage; the second one was a vintage find on ebay that far outlasted me actually wanting to use it and i think is in our basement now or maybe we lost it in a move). realizing quickly that it did help with fluidity (there really is something re: how fast your hands can render what&#39;s playing in your mind) but didn&#39;t fundamentally fix the problem of writing.</p>
<p>i had always told myself that the fetishization of tools is magical thinking people are doing to distract themselves from the anxiety of their own limitations (the classic &quot;i&#39;m buying a notebook/pen/etc. because i think it will make me more creatively productive&quot;), and i think there is some truth to that (or at least there has been for me), but also working with other engineers has shown me how truly becoming one with their tools can enable an otherwise unreachable kind of flow state for them, which is hard for me, a person who wants as much flow state as possible but also to use the defaults of everything and not learn keyboard shortcuts and all that shit</p>
<p>(something i fantasize about re: the future of VR, which is whether an IDE in VR would, informed by our knowledge that sitting still in one place and not moving is bad for us in myriad ways, physicalize things like navigating through folders, managing windows, using snippets, commenting out blocks, running tests, such that software engineering could use body to create a user experience almost like carpentry or some other kind of work with your hands, such that at the end of a day building something you feel in in your muscles as though you&#39;ve built something)</p>
<p>the typewriter summer was the same summer that d and i binge-watched <em>battlestar galactica</em> like it was a full-time job, the TV watching experience that i will probably always be most nostalgic about (just endless acres of time filled with pure satisfaction). talking to a friend at work recently about how even though it seems like winter is the best time for watching lots of television, i feel like my most resonant binges have been in the summer, which i think i ascribe to endless days as a kid with my brother watching VHS tapes of <em>the simpsons</em> that our dad had scrupulously recorded as they aired.</p>
<p>i&#39;m typing this in the yard sitting in a lawn chair and just got a huge whiff of proustian sunscreen smell as it was applied to the kids next door. i&#39;m thankful for how much the kids next door love the trampoline they got at the beginning of the summer, even though the sound of them on it makes me want to do murder when i am trying to focus on something at work. (i&#39;m thankful, speaking of the simpsons, to remember <a href="https://www.youtube.com/watch?v=a_VTvQLAfaE">the trampoline episode</a> and how homer shouts &quot;trambampoline&quot;). </p>
<p>i&#39;m thankful to be finally rewatching <em>lost</em>, a show which i have always thought fondly of ever since i binged the first few seasons of during the first month of summer after i graduated college but which i had been put off of rewatching forever because i would get bored of sitting through the flashbacks (what i always wanted from the show is the forward motion, the lore, the weird lore shit that can&#39;t possibly all be tied together reasonably) and then lately i was so desperate for the predictable annihilation of the binge that i started anyway and realized i could have my cake and eat it too by a) skipping episodes that i don&#39;t care about (including most of the first season, which i&#39;ve seen more of because of past aborted rewatches) and b) fast forwarding through almost flashbacks, which would increase, bulking the satisfaction of the binge. i&#39;m thankful for these tactics especially because i was saddened to not be able to find a <em>lost</em> equivalent to <a href="https://medium.com/the-awl/how-to-watch-battlestar-galactica-8ed67ce5ee65">this GOAT choire sicha post</a> (<a href="https://www.wired.com/2014/07/binge-guide-lost/">this</a> is a pale imitation). there should be a whole website that just does those.</p>
<p>seeing a doctor in person for the first time in like two and a half years last week, the fact that there was nothing glaringly physically wrong with me, the kindness and verbal wit of the new doctor, the free membership at the app-based clinic with easy appointments as a benefit of my knowledge worker job, the inability of both the doctor and i to do the simple math in our head to titrate me off of one medication and onto another, the hilarious moment when i was discussing digestive issues with her and she showed me this scale they show children with different cartoon pictures of excrement so they can identify the type</p>
<p>picking up my prescriptions from the pharmacy, since, though long-time readers will know i had a wonderful and nourishing relationship with a pharmacist when we lived in indiana, i had gotten into the habit of getting them delivered here, but then they were mis-delivered last month (d&#39;s were also mis-delivered but a nice person drove by the house to give them to her, thankful for them) and so even though i got a new prescription, my insurance wouldn&#39;t cover it because they considered their obligation discharged by that mis-delivery and i had to pay several hundred dollars to not go through withdrawal (i was so mad, never again!). i&#39;m thankful that our pharmacy is an easy bike ride away and this is the best time of the year for easy bike rides.</p>
<p>the lamictal my new doctor prescribed after i tried but failed to get her to give me xanax (i failed the &quot;how much anxiety do you have&quot; test by saying i have too much anxiety), which for the first few days of taking it last week seemed like a potential transcendent miracle cure for the problem of myself (maybe placebo effect, idk, but it felt like more than that), but which seems to have waned in effectiveness or maybe even made things worse the last few days, i don&#39;t know, coming up on psychiatric drugs is always a weird time that doesn&#39;t necessarily reflect the fully functioning experience and i am right now taking the smallest possible dosage with plans for more, so there is still possibility space left for the evergreen hope that it will be The Thing That Will Fix Me</p>
<p>taking a mental health day from work today, because i just felt really crappy this morning and i knew that while i had meetings, there was nothing i had to attend and i&#39;m not as overwhelmed with work as i have often been recently so the idea of taking a day off and getting even further behind on my to-do list (which sometimes prevents me from taking a sick day, even though those are often the times when i need them most!) wasn&#39;t a factor for concern. i&#39;m thankful that i don&#39;t get physically sick very often so that i can use sick days for mental health (and i&#39;m thankful to try to make myself use them more when i need them, since as em said of &quot;unlimited vacation days&quot;, &quot;you don&#39;t get to take them with you!&quot;)</p>
<p><a href="https://podcasts.apple.com/us/podcast/poog-with-kate-berlant-and-jacqueline-novak/id1537404238">the <em>poog</em> podcast</a>, hosted by jacqueline novak and kate berlant, a recent discovery which makes me laugh more reliably and frequently than any other currently running podcast and i love both what the hosts think to say and, crucially, the sound of their voices (it is always the worst when a podcast you might otherwise love is ruined by the latter). if you are looking for a single episode intro, i recommend &quot;<a href="https://podcasts.apple.com/us/podcast/wetness-is-different-than-tenderness/id1537404238?i=1000522157259">wetness is different than tenderness</a>&quot;. i had also bounced off the tim robinson show on netflix previously, but sarah posted in her stories about how she loves it, which made me want to try again and i&#39;ve been enjoying the second season.</p>
<p><a href="https://www.nativecos.com/">this brand of deodorant</a>, which d got me a sample pack of a while ago and which i like the smell of more than other deodorants i&#39;ve tried before (though i&#39;ll always have a fondness. similarly, <a href="https://www.amazon.com/Neutrogena-Water-Resistant-Sunscreen-Spectrum/dp/B007KA7V5U/ref=sr_1_14_0o_fs_mod_primary_alm?dchild=1&keywords=roll-on+sunscreen&qid=1626208707&sbo=m6DjfpMzMLDmL8pSMKX8hw%3D%3D&sr=8-14">roll-on sunscreen</a> made for children d got me, which doesn&#39;t sting my eyes when it melts and has gotten me, a person who has always hated the feeling of applying goopy creams to my body, to reliably protect at least my face from the elements. several seasoning mixes from trader joes (a mushroom umami one, a citrus garlic one, and the famed everything but the bagel) which i have been using a lot on everything lately.</p>
<p>the most successful i have ever been at trying to take a break from desserts, which is to say that for like a week and a half, i have been eating just fruit for dessert, which, fruit is still balls of sugar but on balance an improvement over oreos or whatever. i&#39;m thankful to see whether i can keep it up (last night i edged up to the line and ate several handfuls of dry frosted mini wheats when the night&#39;s nectarine didn&#39;t sate me) i&#39;m thankful for the bounty of summer fruit, which is the only thing that makes such a campaign feel possible. i&#39;m thankful for my very lazy way of eating a mango, which is to slice off one side and then slice off the other side and then slice a slit in the peel of the ring still around the core and then put all three pieces in a large bowl and just shove them into my mouth rather than doing the thing where you score out cubes </p>
<p>out of desperation to submerge my brain in a stream of someone else&#39;s words, i finally started reading the last knausgaard book (i read all the other ones as soon as they were released but felt a block about the last one and never got to it), which was initially very interesting in terms of gossip (the first book is about to be published and he&#39;s sending it to friends and family so they can and anxiously checking his email (rendered in great detail) multiple times a day) but then he recently segued into a period of incredibly long multi-page paragraphs without a break speaking in grand abstractions about art and artists and i just cannot with that (i will maybe learn from <em>lost</em> and just start skipping ahead until the book becomes what i want it to be again). i&#39;m thankful for something i found weird which is that before giving his kids their nightly bath, he always scrubs and washes the tub vigorously (which is of course a weird echo of the Grief Cleaning from the first book) and i&#39;m just like how dirty could it have gotten since yesterday but maybe this is normal or maybe he just really does love scrubbing things</p>
<p>i&#39;m thankful for the experience of watering the backyard, which burned up in the heatwave of a few weeks ago (thankful also for our unfinished basement, which was an oasis), but which fills in a little greener every day as long as i remember to water it.</p>

      </div>
    </article>

    <nav class="navigation">
      <a href="/letters/" class="btn btn-secondary">home</a>
      <div class="nav-links">
        <a href="/letters/letters/toasted-over-a-gas-burner.html" class="btn btn-secondary">← toasted over a gas burner</a>
        <a href="/letters/letters/the-sensafion-of.html" class="btn btn-secondary">the sensafion of →</a>
      </div>
    </nav>
  
  </div>

  <script>
    // PWA installation prompt
    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'flex';
      }
    });

    async function installPWA() {
      if (!deferredPrompt) {
        // If not installable, redirect to PWA
        window.location.href = '/letters/app/';
        return;
      }

      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      
      if (outcome === 'accepted') {
        console.log('PWA installed');
      }
      
      deferredPrompt = null;
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'none';
      }
    }

    function openPWA() {
      window.location.href = '/letters/app/';
    }

    // Progressive Enhancement: Check if user has PWA installed
    // If they do, redirect them to the app version for a richer experience
    if (window.matchMedia('(display-mode: standalone)').matches) {
      // User is in standalone mode (PWA is installed and running)
      // Keep them on static page - they're already in PWA mode
      console.log('Running in PWA mode');
    } else {
      // Check if user has previously used the PWA (has cached data)
      if ('caches' in window) {
        caches.keys().then(cacheNames => {
          const hasPWACache = cacheNames.some(name => 
            name.includes('static-') || name.includes('data-')
          );
          
          // Only show PWA banner if they have cached content
          if (hasPWACache) {
            const banner = document.querySelector('.pwa-banner');
            if (banner && banner.style.display === 'none') {
              banner.style.display = 'flex';
            }
          }
        });
      }
    }

    // Register service worker for all pages
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker
          .register('/letters/sw.js', { scope: '/letters/' })
          .then((registration) => {
            console.log('SW registered:', registration);
          })
          .catch((error) => {
            console.log('SW registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>