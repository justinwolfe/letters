<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="2/5">
  <title>2/5 - Thank You Notes</title>
  <link rel="manifest" href="/letters/manifest.json">
  <meta name="theme-color" content="#007bff">
  <link rel="apple-touch-icon" href="/letters/icon-192.png">
  <style>
    /**
 * Shared Styles for Thank You Notes
 * Used by both the static site and PWA version
 */

/* Base Reset and Layout */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #f5f5f5;
  color: #333;
  line-height: 1.6;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem 1rem;
}

/* Loading and Error States */
.loading,
.error {
  text-align: center;
  padding: 3rem;
  font-size: 1.2rem;
}

.error {
  color: #dc3545;
}

/* Header */
.header {
  margin-bottom: 1.5rem;
  text-align: center;
}

.header h1 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
}

.subtitle {
  font-size: 1rem;
  color: #666;
}

/* Controls */
.controls {
  margin-bottom: 2rem;
}

.search-container {
  position: relative;
  margin-bottom: 1rem;
}

.search-input {
  width: 100%;
  padding: 0.75rem 2.5rem 0.75rem 1rem;
  font-size: 1rem;
  border: 2px solid #dee2e6;
  border-radius: 8px;
  outline: none;
  transition: border-color 0.2s;
  background: white;
}

.search-input:focus {
  border-color: #007bff;
}

.clear-search {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  font-size: 1.25rem;
  color: #6c757d;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  line-height: 1;
  transition: color 0.2s;
}

.clear-search:hover {
  color: #333;
}

.control-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.sort-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.sort-container label {
  font-size: 0.875rem;
  font-weight: 500;
  color: #666;
}

.sort-select {
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  border: 2px solid #dee2e6;
  border-radius: 6px;
  background: white;
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s;
}

.sort-select:focus {
  border-color: #007bff;
}

.result-count {
  font-size: 0.875rem;
  font-weight: 600;
  color: #495057;
  padding: 0.5rem 0.75rem;
  background: #e9ecef;
  border-radius: 6px;
  white-space: nowrap;
}

.btn-random {
  background: #28a745;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-random:hover {
  background: #218838;
  transform: translateY(-1px);
}

.btn-random:active {
  transform: translateY(0);
}

.searching,
.no-results {
  text-align: center;
  padding: 3rem 1rem;
  font-size: 1.1rem;
  color: #666;
}

/* Email/Letter List */
.list,
.letter-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.email-card,
.letter-card {
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  text-decoration: none;
  color: inherit;
  display: block;
}

.email-card:hover,
.letter-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.email-card-image {
  width: 100%;
  height: 200px;
  overflow: hidden;
  background: #e9ecef;
}

.email-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.email-card-content,
.letter-card {
  padding: 1.5rem;
}

.email-card h2,
.letter-card h2 {
  font-size: 1.5rem;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  font-weight: 600;
}

.email-description,
.letter-card p {
  color: #666;
  margin-bottom: 0.75rem;
  line-height: 1.5;
}

.email-search-snippet {
  color: #555;
  margin-bottom: 0.75rem;
  line-height: 1.5;
  font-style: italic;
}

.search-highlight {
  background: #fff3cd;
  color: #856404;
  font-weight: 700;
  padding: 0.1rem 0.2rem;
  border-radius: 3px;
  font-style: normal;
}

.email-date,
.letter-card time {
  display: block;
  font-size: 0.875rem;
  color: #888;
}

/* Email/Letter Reader */
.email-reader,
.letter-content {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  margin-bottom: 2rem;
}

.email-reader {
  touch-action: pan-y pinch-zoom;
}

.reader-nav,
.navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  background: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
  gap: 1rem;
  flex-wrap: wrap;
}

.reader-nav-bottom {
  border-top: 1px solid #dee2e6;
  border-bottom: none;
}

.nav-buttons,
.nav-links {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

/* Buttons */
.btn {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  text-decoration: none;
  display: inline-block;
}

.btn:hover {
  transform: translateY(-1px);
}

.btn:active {
  transform: translateY(0);
}

.btn-secondary {
  background: #6c757d;
  color: white;
}

.btn-secondary:hover {
  background: #5a6268;
}

.btn-nav {
  background: #007bff;
  color: white;
}

.btn-nav:hover {
  background: #0056b3;
}

.btn-back-arrow {
  background: none;
  border: none;
  color: #333;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  transition: color 0.2s, transform 0.1s;
  line-height: 1;
}

.btn-back-arrow:hover {
  color: #007bff;
  transform: translateX(-2px);
}

.btn-back-arrow:active {
  transform: translateX(0);
}

/* Email/Letter Content */
.email-content,
.letter-content {
  padding: 2rem 1.5rem;
}

.email-header,
.letter-header {
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 2px solid #e9ecef;
}

.email-header h1,
.letter-header h1 {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-header .email-date,
.letter-header time {
  font-size: 1rem;
  color: #666;
}

/* Email/Letter Body Styles */
.email-body,
.letter-body {
  font-size: 1.0625rem;
  line-height: 1.7;
  color: #333;
}

.email-body h1,
.email-body h2,
.email-body h3,
.email-body h4,
.email-body h5,
.email-body h6,
.letter-body h1,
.letter-body h2,
.letter-body h3,
.letter-body h4,
.letter-body h5,
.letter-body h6 {
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  font-weight: 600;
  color: #1a1a1a;
  line-height: 1.3;
}

.email-body h1,
.letter-body h1 {
  font-size: 1.875rem;
}

.email-body h2,
.letter-body h2 {
  font-size: 1.5rem;
}

.email-body h3,
.letter-body h3 {
  font-size: 1.25rem;
}

.email-body p,
.letter-body p {
  margin-bottom: 1rem;
}

.email-body a,
.letter-body a {
  color: #007bff;
  text-decoration: none;
}

.email-body a:hover,
.letter-body a:hover {
  text-decoration: underline;
}

.email-body img,
.letter-body img {
  max-width: 100%;
  height: auto;
  border-radius: 4px;
  margin: 1.5rem 0;
}

.email-body ul,
.email-body ol,
.letter-body ul,
.letter-body ol {
  margin-bottom: 1rem;
  padding-left: 2rem;
}

.email-body li,
.letter-body li {
  margin-bottom: 0.5rem;
}

.email-body blockquote,
.letter-body blockquote {
  margin: 1.5rem 0;
  padding-left: 1rem;
  border-left: 4px solid #e9ecef;
  color: #666;
  font-style: italic;
}

.email-body code,
.letter-body code {
  background: #f8f9fa;
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
  font-family: 'Courier New', monospace;
  font-size: 0.9em;
}

.email-body pre,
.letter-body pre {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  margin: 1.5rem 0;
}

.email-body pre code,
.letter-body pre code {
  background: none;
  padding: 0;
}

.email-body hr,
.letter-body hr {
  border: none;
  border-top: 2px solid #e9ecef;
  margin: 2rem 0;
}

/* PWA Banner */
.pwa-banner {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 1rem;
  border-radius: 8px;
  margin: 1rem 0 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.pwa-banner-text {
  flex: 1;
  min-width: 200px;
}

.pwa-banner-text h3 {
  margin-bottom: 0.25rem;
  font-size: 1.1rem;
}

.pwa-banner-text p {
  font-size: 0.9rem;
  opacity: 0.9;
}

.btn-primary {
  background: #007bff;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-primary:hover {
  background: #0056b3;
  transform: translateY(-1px);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-primary:disabled {
  background: #6c757d;
  cursor: not-allowed;
  transform: none;
}

.btn-danger {
  background: #dc3545;
  color: white;
  padding: 0.75rem 1.25rem;
  border: none;
  border-radius: 6px;
  font-size: 0.9375rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
}

.btn-danger:hover {
  background: #c82333;
  transform: translateY(-1px);
}

.btn-danger:active {
  transform: translateY(0);
}

/* Offline & PWA UI */
.offline-banner {
  background: #ff9800;
  color: white;
  padding: 0.75rem 1rem;
  text-align: center;
  border-radius: 8px;
  margin-bottom: 1rem;
  font-weight: 500;
}

.download-progress {
  background: white;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.download-progress-bar {
  height: 8px;
  background: #e9ecef;
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.download-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #007bff, #0056b3);
  transition: width 0.3s ease;
}

.download-progress p {
  font-size: 0.875rem;
  color: #666;
  text-align: center;
  margin: 0;
}

.btn-offline {
  background: #6c757d;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  white-space: nowrap;
}

.btn-offline:hover {
  background: #5a6268;
  transform: translateY(-1px);
}

.btn-offline:active {
  transform: translateY(0);
}

.offline-panel {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.offline-panel h3 {
  margin-bottom: 1rem;
  color: #1a1a1a;
  font-size: 1.25rem;
}

.offline-stats {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 6px;
  margin-bottom: 1rem;
}

.offline-stats p {
  margin: 0.5rem 0;
  color: #495057;
  font-size: 0.9375rem;
}

.offline-actions {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.offline-note {
  font-size: 0.875rem;
  color: #666;
  line-height: 1.5;
  margin: 0;
  font-style: italic;
}

/* Responsive Design */
@media (max-width: 768px) {
  .container {
    padding: 1rem 0.5rem;
  }

  .header h1 {
    font-size: 2rem;
  }

  .control-row {
    flex-direction: column;
    align-items: stretch;
  }

  .sort-container {
    width: 100%;
    justify-content: space-between;
  }

  .sort-select {
    flex: 1;
  }

  .result-count {
    text-align: center;
  }

  .btn-random {
    width: 100%;
  }

  .email-card-content {
    padding: 1rem;
  }

  .email-card h2 {
    font-size: 1.25rem;
  }

  .email-content,
  .letter-content {
    padding: 1.5rem 1rem;
  }

  .email-header h1,
  .letter-header h1 {
    font-size: 1.5rem;
  }

  .reader-nav,
  .navigation {
    flex-direction: column;
    align-items: stretch;
  }

  .nav-buttons,
  .nav-links {
    flex-direction: column;
  }

  .btn {
    width: 100%;
    text-align: center;
  }

  .btn-nav {
    font-size: 0.8125rem;
    white-space: normal;
    word-wrap: break-word;
  }

  body {
    padding: 10px;
  }

  .pwa-banner {
    flex-direction: column;
    text-align: center;
  }
}

@media (max-width: 480px) {
  .email-card-image {
    height: 150px;
  }

  .email-body,
  .letter-body {
    font-size: 1rem;
  }
}

    
    /* Static site specific adjustments */
    body {
      padding: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    
    <div class="pwa-banner" style="display: none;">
      <div class="pwa-banner-text">
        <h3>📱 Read Offline</h3>
        <p>Install the app to read all letters offline</p>
      </div>
      <div>
        <button class="btn btn-primary" onclick="installPWA()">Install App</button>
      </div>
    </div>

    <article class="letter-content">
      <header class="letter-header">
        <h1>2/5</h1>
        <time datetime="2017-02-05T00:00:00Z">February 4, 2017</time>
      </header>

      <div class="letter-body">
        <p>i&#39;m thankful that i had another night of poor sleep last night. i&#39;m thankful that last night, probably because too late yesterday evening i was doing some work related to the end of my current job, it was an anxiety dream about my new job, which in the dream was a writing job at MTV news, which in the dream was based in phoenix, arizona for some reason. i&#39;m thankful to remember how uncool i felt at the job and how i was constantly struggling to find clothes to wear (which i think is a reflection of the fact that in the real world i need to do our laundry). i&#39;m thankful there were other new people starting at the same time as me (as there will be at my real new job, which i&#39;m thankful for) and they were also flailing and didn&#39;t fit in, though the solidarity of that wasn&#39;t as strong as it is in the real world. i&#39;m thankful to remember a very weird part at the end of the dream where my new coworkers were tricked into drinking yellow water with essential oils in it out of a diffuser as a hazing ritual and i refused. i&#39;m thankful that in the dream it was very difficult to ride my bike, which is not true in real life. i&#39;m thankful that things in life are rarely as difficult as they are in anxiety dreams and i&#39;m thankful in waking life to be very excited about my new job and to only have one more week at my current job. i&#39;m thankful that tonight i will be more careful about my sleep hygiene so that i can catch up on sleep debt (i&#39;m thankful for the horrible concept of sleep debt, which is an example of the incursion of the economic sphere into every area of life).</p>
<p>i&#39;m thankful that yesterday evening we watched <em>american ultra</em>, the semi-comedic action movie starring jesse eisenberg and kristen stewart. i&#39;m thankful that though the movie wasn&#39;t perfect, it was very diverting and funny. i&#39;m thankful to like both of these actors and to believe that they both gave some of their best performances here. i&#39;m thankful also for connie britton (i&#39;m thankful for <a href="http://www.huffingtonpost.com/2014/09/18/connie-britton-kirsten-gillibrand-throwback-photo_n_5844510.html">this amazing photo of she and kristen gillibrand as roommates</a>) and topher grace (who should always play an asshole) and john leguizamo and the guy who played buster on arrested development (i&#39;m thankful to recognize he is named tony hale and should be addressed as such, since it must be very annoying to always be called the name of one character you played)(i&#39;m thankful to know we really need to watch <em>veep</em> at some point)(i&#39;m thankful we are still watching <em>crashing</em>, which is still very uproariously funny but has become more and more sad at the same time—i&#39;m thankful for how good phoebe waller-bridge is at walking that particular tightrope)</p>
<p>i&#39;m thankful for <a href="http://tinysubversions.com/essays/dontcry/">this really cool interactive essay about j dilla&#39;s &quot;don&#39;t cry&quot;</a> (i&#39;m thankful for its demonstration of how difficult it is to make sample-based music, which i have tried at and failed at many times) and to have bought <a href="https://www.amazon.com/gp/product/1623561833/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1623561833&linkCode=as2&tag=tinysubversio-20">this book</a> it mentions, which i&#39;m looking forward to reading. i&#39;m thankful for the pop music class i took my last semester of college where we read the <a href="https://www.amazon.com/Led-Zeppelins-Zeppelin-IV-33/dp/0826416586/ref=sr_1_1?s=books&ie=UTF8&qid=1486303280&sr=1-1&keywords=led+zeppelin+33+1%2F3">led zeppelin IV 33 1/3 book</a> and i accidentally plagiarized part of it and my professor gently pointed this out but said that from the writing in the rest of my essay it was clearly just an accident rather than me trying to get away. i&#39;m thankful to remember that book makes some argument about walter benjamin and the notion of the aura re: &quot;stairway to heaven&quot; that i found very powerful (i&#39;m thankful to have found things about walter benjamin very powerful in college, like when i was taking a class on byzantine art and i learned about the status of the copy in icon painting (where icons represent a direct connection to the divine, <em>are</em> the divine, rather than just representations of it) and wrote an essay talking about walter benjamin and i&#39;m thankful when she handed our papers back the professor sarcastically said &quot;<em>a lot of you are very interested in walter benjamin</em>&quot;). </p>
<p>i&#39;m thankful for this twitter bot of the arcades project and i&#39;m thankful for <a href="https://www.marxists.org/reference/archive/benjamin/1940/history.htm">the angel of history</a>:</p>
<p>&quot;<em>A Klee drawing named “Angelus Novus” shows an angel looking as though he is about to move away from something he is fixedly contemplating.  His eyes are staring, his mouth is open, his wings are spread.  This is how one pictures the angel of history.  His face is turned toward the past.  Where we perceive a chain of events, he sees one single catastrophe that keeps piling ruin upon ruin and hurls it in front of his feet.  The angel would like to stay, awaken the dead, and make whole what has been smashed.  But a storm is blowing from Paradise; it has got caught in his wings with such violence that the angel can no longer close them.  The storm irresistibly propels him into the future to which his back is turned, while the pile of debris before him grows skyward. This storm is what we call progress</em>.&quot;                                                         </p>
<p>i&#39;m thankful while googling to have been reminded of <a href="https://www.amazon.com/dp/B01DUNXW9E/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1">this novel</a>, which sounds like something i&#39;d like to read. i&#39;m thankful for the recent episode of <a href="http://www.bbc.co.uk/programmes/b08c2ljg"><em>in our time</em> about hannah arendt</a>, which makes me want to read her work, which i never really have. i&#39;m thankful to still be enjoying <em>substitute</em>, which feels meaningful considering how much i didn&#39;t enjoy school. i&#39;m thankful for <a href="http://www.vulture.com/2017/01/what-happened-to-paul-auster.html">this burn on paul auster</a>; i&#39;m thankful he definitely functioned as the postmodernist gateway drug for me and am thankful to have loved some of his books at one time (especially <em><a href="https://www.amazon.com/Book-Illusions-Novel-Paul-Auster-ebook/dp/B0080K3Q2G/ref=sr_1_1?s=digital-text&ie=UTF8&qid=1486304675&sr=1-1&keywords=the+book+of+illusions">the book of illusions</a></em>, which is my favorite, and especially not the new york trilogy, which i think is massively overrated though d enjoyed the graphic novel version of <a href="https://www.amazon.com/City-Glass-Graphic-Novel-Trilogy/dp/0312423608/ref=sr_1_1?s=digital-text&ie=UTF8&qid=1486304711&sr=8-1&keywords=new+york+trilogy+graphic+novel">city of glass</a>)(i&#39;m thankful to have a vivid memory of lying in a beach chair in some swampy grass besides a power station near the house where we lived when i was in high school trying to get a tan while reading a library copy of <a href="https://www.amazon.com/Country-Last-Things-Paul-Auster/dp/0140097058/ref=sr_1_1?ie=UTF8&qid=1486304784&sr=8-1&keywords=in+the+country+of+last+things">in the country of last things</a>). i&#39;m thankful for my favorite 33 1/3 book i&#39;ve read, which is probably the one about <em><a href="https://www.amazon.com/Radioheads-Kid-33-1-3/dp/0826423434/ref=sr_1_1?s=books&ie=UTF8&qid=1486303650&sr=1-1&keywords=kid+a+33+1%2F3">kid a</a></em>, which is very dry and technical if you like that kind of thing (i&#39;m thankful also for this exhaustive <a href="http://www.metafilter.com/153507/-i-am-not-here-and-this-is-not-really-happening">metafilter post</a> about <em>kid a</em>, which if you are me you could happily spend your whole sunday afternoon exploring.)</p>
<p>i&#39;m thankful to have facetimed with my parents and to have been surprised to find that my brother and m were in town. i&#39;m thankful to have congratulated them about getting married and to have learned about their time in illinois, which my brother said was the coldest he has ever been. i&#39;m thankful that they were blissful enough about having just gotten married that it didn&#39;t bother them too much and i&#39;m thankful they had warm socks. i&#39;m thankful that m emailed andrew bird&#39;s publicist a few weeks before the trip saying what big fans they were and how they were getting married the day they saw him and requesting that at the show he play their favorite song (and one of my favorite songs by him), &quot;tables and chairs.&quot; i&#39;m thankful that near the end of the show, he announced that he&#39;d had a request and then said my brother and m&#39;s names and that they&#39;d gotten married. i&#39;m thankful that he said he&#39;d been thinking a lot recently about &quot;<a href="https://www.youtube.com/watch?v=UjKpHnF_sRg">tables and chairs</a>,&quot; which is a hopeful song about the apocalypse, and i&#39;m thankful that he played a version of it with new lyrics that try to be hopeful in the present. that was dedicated to them.</p>
<p>i&#39;m thankful to watch d trying on her clothes and deciding what to keep and what to donate. i&#39;m thankful for the terms describing clothes that she knows that i don&#39;t, including: dolman bat wing, asymmetrical hem (which looks so weird and self-consciously modern, like a malevich), and cold shoulder (which is what it sounds like). i&#39;m thankful for our discussion about what is and is not a caftan. i&#39;m thankful for a black dress the bottom part of which is covered with glittering sequins i&#39;m thankful for the blue cardigan she is trying on over a flowered spring dress. i&#39;m thankful that it will eventually be spring and she will be able to wear the dress outside the house and we&#39;ll be able to walk through the sunshine. i&#39;m thankful for &quot;it all feels right,&quot; by washed out, which i associate with the springtime and sunshine and which briefly is a portal to those things from my bed on this cold winter day.</p>
<p><a href="http://tinyletter.com/thankyounotes/letters/thank-you-notes-2-5">one year ago</a>
<a href="https://docs.google.com/forms/d/e/1FAIpQLScTx88zH7_2J3rq5fQIkVw0g5KDc-sIg4ToS53S7g1xrtMSHQ/viewform?usp=send_form">share your notes</a></p>

      </div>
    </article>

    <nav class="navigation">
      <a href="/letters/" class="btn btn-secondary">home</a>
      <div class="nav-links">
        <a href="/letters/letters/26-1523.html" class="btn btn-secondary">← 2/6</a>
        <a href="/letters/letters/2416.html" class="btn btn-secondary">2/4/16 →</a>
      </div>
    </nav>
  
  </div>

  <script>
    // PWA installation prompt
    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'flex';
      }
    });

    async function installPWA() {
      if (!deferredPrompt) {
        // If not installable, redirect to PWA
        window.location.href = '/letters/app/';
        return;
      }

      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      
      if (outcome === 'accepted') {
        console.log('PWA installed');
      }
      
      deferredPrompt = null;
      const banner = document.querySelector('.pwa-banner');
      if (banner) {
        banner.style.display = 'none';
      }
    }

    function openPWA() {
      window.location.href = '/letters/app/';
    }

    // Progressive Enhancement: Check if user has PWA installed
    // If they do, redirect them to the app version for a richer experience
    if (window.matchMedia('(display-mode: standalone)').matches) {
      // User is in standalone mode (PWA is installed and running)
      // Keep them on static page - they're already in PWA mode
      console.log('Running in PWA mode');
    } else {
      // Check if user has previously used the PWA (has cached data)
      if ('caches' in window) {
        caches.keys().then(cacheNames => {
          const hasPWACache = cacheNames.some(name => 
            name.includes('static-') || name.includes('data-')
          );
          
          // Only show PWA banner if they have cached content
          if (hasPWACache) {
            const banner = document.querySelector('.pwa-banner');
            if (banner && banner.style.display === 'none') {
              banner.style.display = 'flex';
            }
          }
        });
      }
    }

    // Register service worker for all pages
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker
          .register('/letters/sw.js', { scope: '/letters/' })
          .then((registration) => {
            console.log('SW registered:', registration);
          })
          .catch((error) => {
            console.log('SW registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>